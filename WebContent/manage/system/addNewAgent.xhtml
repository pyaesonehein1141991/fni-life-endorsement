<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:mutu="http://java.sun.com/jsf/fileUpload"
	xmlns:p="http://primefaces.org/ui"
	template="/common/commonLayout.xhtml">
	<ui:param name="header" value="Agent Profile Management" />
	<ui:param name="headerRendered" value="true" />
	<ui:define enctype="multipart/form-data" name="content">
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<style>
.ui-fileupload-content {
	display: none;
}

.noneBorder {
	broder: none;
}

.ui-fileupload {
	broder: none;
}

.uploadIcon {
	text-align: center;
}

.ui-editor {
	height: 200px !important;
}

.ui-panelgrid td {
	border: none;
}

.image {
	margin: -10px 0px -30px -22px;
	width: 128%;
	height: 150px;
}
</style>
		<h:form enctype="multipart/form-data" id="agentEntryForm">
			<p:growl globalOnly="true" id="messages" showDetail="true" />
			<div style="padding-left: 3px;">
				<p:wizard flowListener="#{ManageAgentActionBean.onFlowProcess}"
					id="agentWizard" style="margin-bottom:10px;" widgetVar="wiz">
					<p:tab id="personalInfo" title="Personal Info">
						<p:panel header="Personal Info" style="min-height:300px;">
							<p:panelGrid columns="3" id="personInfoPanel"
								columnClasses="ui-grid-col-4,ui-grid-col-6,ui-grid-col-2"
								layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:panelGrid id="personInfoLeftPanel" columns="2"
									columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:message for="initialId" display="text" />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_AGENT_INITIALID_LABEL']}" />
									<p:inputText id="initialId"
										value="#{ManageAgentActionBean.agent.initialId}">
										<f:validateLength maximum="36" />
									</p:inputText>
									<p:outputLabel />
									<p:message for="firstName" display="text" />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_AGENT_FIRSTNAME_LABEL']}" />
									<p:inputText id="firstName"
										value="#{ManageAgentActionBean.agent.name.firstName}">
										<f:validateLength maximum="50" />
									</p:inputText>
									<p:outputLabel />
									<p:message for="middleName" display="text" />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_AGENT_MIDDLENAME_LABEL']}" />
									<p:inputText id="middleName"
										value="#{ManageAgentActionBean.agent.name.middleName}">
										<f:validateLength maximum="50" />
									</p:inputText>
									<p:outputLabel />
									<p:message for="lastName" display="text" />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_AGENT_LASTNAME_LABEL']}" />
									<p:inputText id="lastName"
										value="#{ManageAgentActionBean.agent.name.lastName}">
										<f:validateLength maximum="50" />
									</p:inputText>
									<p:outputLabel />
									<p:message for="fatherName" display="text" />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_CUSTOMER_FATHERNAME_LABEL']}" />
									<p:inputText id="fatherName"
										value="#{ManageAgentActionBean.agent.fatherName}">
										<f:validateLength maximum="50" />
									</p:inputText>
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_CUSTOMER_GENDER_LABEL']}" />
									<p:selectOneMenu id="gender"
										value="#{ManageAgentActionBean.agent.gender}">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type}"
											value="#{ManageAgentActionBean.genderSelectItemList}"
											var="type" />
									</p:selectOneMenu>
								</p:panelGrid>
								<p:panelGrid id="personInfoMiddlePanel" columns="1"
									columnClasses="ui-grid-col-12" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:panelGrid id="personInfoMiddlePanel1" columns="2"
										columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid"
										styleClass="ui-panelgrid-blank ui-fluid">
										<p:outputLabel />
										<p:message for="dob" display="text" />
										<h:outputText styleClass="input-label mandatory"
											value="#{label['MANAGE_AGENT_DOB_LABEL']}" />
										<p:inputMask id="dob" mask="99-99-9999"
											value="#{ManageAgentActionBean.agent.dateOfBirth}">
											<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}"
												timeZone="#{ApplicationSetting.timeZone}" />
										</p:inputMask>
										<p:outputLabel />
										<p:message for="birthMark" display="text" />
										<h:outputText styleClass="input-label"
											value="#{label['MANAGE_CUSTOMER_BIRTHMARK_LABEL']}" />
										<p:inputText id="birthMark"
											value="#{ManageAgentActionBean.agent.birthMark}">
											<f:validateLength maximum="100" />
										</p:inputText>
										<p:outputLabel />
										<p:message for="maritalStatus" display="text" />
										<h:outputText styleClass="input-label"
											value="#{label['MANAGE_CUSTOMER_MARITALSTATUS_LABEL']}" />
										<p:selectOneMenu
											converter="omnifaces.SelectItemsIndexConverter"
											id="maritalStatus"
											value="#{ManageAgentActionBean.agent.maritalStatus}">
											<f:selectItems itemLabel="#{type.label}" itemValue="#{type}"
												value="#{ManageAgentActionBean.maritalStatusSelectItemList}"
												var="type" />
										</p:selectOneMenu>
										<p:outputLabel />
										<p:message for="idType" display="text" />
										<h:outputText styleClass="input-label mandatory"
											value="#{label['MANAGE_AGENT_IDTYPE_LABEL']}" />
										<p:selectOneMenu id="idType"
											value="#{ManageAgentActionBean.agent.idType}">
											<f:selectItems itemLabel="#{type.label}" itemValue="#{type}"
												value="#{ManageAgentActionBean.idTypeSelectItemList}"
												var="type" />
											<p:ajax update="personInfoMiddlePanel2 idType" />
										</p:selectOneMenu>
									</p:panelGrid>
									<p:panelGrid id="personInfoMiddlePanel2" columns="2"
										columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid"
										styleClass="ui-panelgrid-blank ui-fluid">
										<p:outputLabel />
										<p:message for="agentNrcNo" display="text" />
										<h:outputText styleClass="input-label mandatory"
											rendered="#{ManageAgentActionBean.agent.idType ne 'STILL_APPLYING'}"
											value="#{label['MANAGE_AGENT_IDNO_LABEL']}" />
										<p:panelGrid id="agentIdNoGroup" columns="4"
											columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
											layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
											rendered="#{ManageAgentActionBean.agent.idType eq 'NRCNO'}">
											<p:selectOneMenu id="agentStateCode"
												rendered="#{ManageAgentActionBean.agent.idType eq 'NRCNO'}"
												required="true"
												value="#{ManageAgentActionBean.agent.stateCode}">
												<f:selectItem itemLabel="" />
												<f:selectItems itemLabel="#{stateCode}"
													itemValue="#{stateCode}"
													value="#{ManageAgentActionBean.stateCodeList}"
													var="stateCode" />
												<p:ajax event="valueChange"
													listener="#{ManageAgentActionBean.changeAgentStateCode}"
													update="agentTownshipCode" />
											</p:selectOneMenu>
											<p:selectOneMenu id="agentTownshipCode" required="true"
												value="#{ManageAgentActionBean.agent.townshipCode}"
												rendered="#{ManageAgentActionBean.agent.idType eq 'NRCNO'}"
												filter="true" filterMatchMode="startsWith">
												<f:selectItem itemLabel="" />
												<f:selectItems itemLabel="#{townshipCode}"
													itemValue="#{townshipCode}"
													value="#{ManageAgentActionBean.townshipCodeList}"
													var="townshipCode" />
											</p:selectOneMenu>
											<p:selectOneMenu id="agentIdConditionType" required="true"
												value="#{ManageAgentActionBean.agent.idConditionType}"
												rendered="#{ManageAgentActionBean.agent.idType eq 'NRCNO'}">
												<f:selectItem itemLabel="" />
												<f:selectItems itemLabel="#{type.label}" itemValue="#{type}"
													value="#{ManageAgentActionBean.idConditionTypeSelectItemList}"
													var="type" />
											</p:selectOneMenu>
											<p:inputText id="agentNrcNo"
												value="#{ManageAgentActionBean.agent.idNo}" required="true" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="6"
												rendered="#{ManageAgentActionBean.agent.idType eq 'NRCNO'}" >
												<f:validateLength minimum="6" maximum="6" />
											</p:inputText>
										</p:panelGrid>
										<p:panelGrid id="agentIdNoGroup1" columns="1"
											columnClasses="ui-grid-col-12" layout="grid"
											styleClass="ui-panelgrid-blank ui-fluid"
											rendered="#{ManageAgentActionBean.agent.idType eq 'FRCNO' or ManageAgentActionBean.agent.idType eq 'PASSPORTNO'}">
											<p:inputText id="agentFPNo" required="true"
												value="#{ManageAgentActionBean.agent.idNo}"
												rendered="#{ManageAgentActionBean.agent.idType eq 'FRCNO' or ManageAgentActionBean.agent.idType eq 'PASSPORTNO'}" />
										</p:panelGrid>
									</p:panelGrid>
								</p:panelGrid>
								<p:panelGrid id="personInfoRightPanel" columns="1"
									columnClasses="ui-grid-col-12" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:panelGrid columns="1" id="imagePanel" style="width:200px">
										<f:facet name="header">
											<h:outputText styleClass="input-label" value="Photo Image" />
										</f:facet>
										<h:panelGrid columns="1" style="width: 100%; height: 100px;">
											<p:graphicImage id="image" style="width:170px;height:135px;"
												rendered="#{ManageAgentActionBean.showImage}"
												value="#{ManageAgentActionBean.agent.attachment.filePath}" />
											<p:message display="text" for="imageUpload" />
											<p:commandLink
												actionListener="#{ManageAgentActionBean.removePhotoImage}"
												process="@this"
												rendered="#{ManageAgentActionBean.showImage}"
												style="align:center" update="imagePanel">
												<div align="center"
													style="margin-top: -14px; margin-bottom: -11px;">
													<p:graphicImage
														styleClass="#{ApplicationSetting.deleteStyleClass}"
														value="#{ApplicationSetting.deleteIcon}" />
												</div>
											</p:commandLink>
										</h:panelGrid>
										<p:fileUpload allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
											auto="true"
											fileUploadListener="#{ManageAgentActionBean.handleFileUpload}"
											id="imageUpload" mode="advanced" multiple="false"
											rendered="#{!ManageAgentActionBean.showImage}"
											required="true" sizeLimit="3000000"
											styleClass="uploadIcon noneBorder" update="imagePanel">
										</p:fileUpload>
									</p:panelGrid>
								</p:panelGrid>
							</p:panelGrid>
						</p:panel>
					</p:tab>
					<p:tab id="generalInfo" title="General Info">
						<p:panel header="General Info" style="min-height:300px;">
							<table>
								<tr>
									<td valign="top">
										<table>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="nationality"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_CUSTOMER_NATIONALITY_LABEL']}" />
												</td>
												<td><h:panelGrid columns="3" id="nationalityPanelGroup">
														<p:inputText id="nationality" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.country == null ? '' : ManageAgentActionBean.agent.country.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectCountry()}"
															id="selectNationalityDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnNationality}"
																update="nationalityPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
											<tr>
												<td style="width: 115px;"><p:message for="religion"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_CUSTOMER_RELIGION_LABEL']}" /></td>
												<td><h:panelGrid columns="3" id="religionPanelGroup">
														<p:inputText id="religion" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.religion== null ? '' : ManageAgentActionBean.agent.religion.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectReligion()}"
															id="selectReligionDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnReligion}"
																update="religionPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
											<tr>
												<td style="width: 115px;"><p:message
														for="qualification" display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_CUSTOMER_QUALIFICATION_LABEL']}" />
												</td>
												<td><h:panelGrid columns="3"
														id="qualificationPanelGroup">
														<p:inputText id="qualification" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.qualification == null ? '' : ManageAgentActionBean.agent.qualification.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectQualification()}"
															id="selectQualificationDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnQualification}"
																update="qualificationPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="organization"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_ORGANIZATION_LABEL']}" /></td>
												<td><h:panelGrid columns="3"
														id="organizationPanelGroup">
														<p:inputText id="organization" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.organization == null ? '' : ManageAgentActionBean.agent.organization.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectOrganization()}"
															id="selectOrganizationDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnOrganization}"
																update="organizationPanelGroup" />
														</p:commandLink>
													</h:panelGrid> <!--  
																<p:inputText value="#{ManageAgentActionBean.agent.codeNo}" style="width:250px;" id="codeNo" disabled="true">
																		<f:validateLength maximum="30" />
																</p:inputText>
																--></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_PRODUCTGROUP_GROUPTYPE_LABEL']}" /></td>
												<td><p:selectOneMenu
														converter="omnifaces.SelectItemsIndexConverter"
														style="width:220px;"
														id="groupType" required="true"
														value="#{ManageAgentActionBean.agent.groupType}">
														<f:selectItem itemLabel="" noSelectionOption="true" />
														<f:selectItems itemLabel="#{type.label}"
															itemValue="#{type}"
															value="#{ManageProductGroupActionBean.productGroupTypeSelectItemList}"
															var="type" />
													</p:selectOneMenu></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="appDate"
														display="text" /></td>
											</tr>
											<tr>
												<td><h:outputText styleClass="input-label mandatory"
														value="#{label['MANAGE_AGENT_APPOINTED_LABEL']}" /></td>
												<td><p:inputMask id="appDate" mask="99-99-9999"
														required="true" style="width:250px;"
														value="#{ManageAgentActionBean.agent.appointedDate}">
														<f:convertDateTime
															pattern="#{ApplicationSetting.dateFormat}"
															timeZone="#{ApplicationSetting.timeZone}" />
													</p:inputMask></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="liscenseNo"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_AGENT_LISCENSENO_LABEL']}" /></td>
												<td><p:inputText id="liscenseNo" style="width:250px;"
														value="#{ManageAgentActionBean.agent.liscenseNo}">
														<f:validateLength maximum="20" />
													</p:inputText></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message
														for="liscenseExpiredDate" display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_AGENT_LISCENSEEXPIREDDATE_LABEL']}" />
												</td>
												<td><p:calendar id="liscenseExpiredDate"
														pattern="#{ApplicationSetting.dateFormat}" size="29"
														required="true" showOn="button"
														timeZone="#{ApplicationSetting.timeZone}"
														value="#{ManageAgentActionBean.agent.liscenseExpiredDate}" />
												</td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="bankBranch"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_CUSTOMER_BANKBRANCH_LABEL']}" /></td>
												<td><h:panelGrid columns="3" id="bankBranchPanelGroup">
														<p:inputText id="bankBranch" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.bankBranch== null ? '' : ManageAgentActionBean.agent.bankBranch.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectBankBranch()}"
															id="selectBankBranchDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnBankBranch}"
																update="bankBranchPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
										</table>
									</td>
									<td valign="top">
										<table>
											<tr>
												<td />
												<td style="width: 115px;"><p:message
														for="bankAccountNo" display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_CUSTOMER_ACCOUNTNO_LABEL']}" /></td>
												<td><p:inputText id="bankAccountNo"
														style="width:250px;"
														value="#{ManageAgentActionBean.agent.accountNo}">
														<f:validateLength maximum="50" />
													</p:inputText></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="branch"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_AGENT_BRANCH_LABEL']}" /></td>
												<td><h:panelGrid columns="3" id="branchPanelGroup">
														<p:inputText id="branch" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.branch == null ? '' : ManageAgentActionBean.agent.branch.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectBranch()}"
															id="selectBranchDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																value="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnBranch}"
																update="branchPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="remark"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_REMARK_LABEL']}" /></td>
												<td><p:inputTextarea id="remark" style="width:250px;"
														value="#{ManageAgentActionBean.agent.remark}">
														<f:validateLength maximum="30" />
													</p:inputTextarea></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="training"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_TRAINING_LABEL']}" /></td>
												<td><p:inputTextarea id="training" style="width:250px;"
														value="#{ManageAgentActionBean.agent.training}">
													</p:inputTextarea></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="outstanding"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_OUTSTANDING_LABEL']}" /></td>
												<td><p:inputTextarea id="outstanding"
														style="width:250px;"
														value="#{ManageAgentActionBean.agent.outstandingEvent}">
													</p:inputTextarea></td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</p:panel>
					</p:tab>
					<p:tab id="contactInfo" title="Contact Info">
						<p:panel header="Contact Info">
							<table>
								<tr>
									<td valign="top">
										<table>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="residentAdd"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;" valign="top"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_CUSTOMER_RESIDENTADD_LABEL']}" />
												</td>
												<td><p:inputTextarea id="residentAdd"
														style="width:250px;"
														value="#{ManageAgentActionBean.agent.residentAddress.residentAddress}">
														<f:validateLength maximum="300" />
													</p:inputTextarea></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message
														for="residentTownId" display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;" valign="top"><h:outputText
														styleClass="input-label mandatory"
														value="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}" />
												</td>
												<td><h:panelGrid columns="3" id="residentPanelGroup">
														<p:inputText id="residentTownId" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.residentAddress.township== null ? '' : ManageAgentActionBean.agent.residentAddress.township.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectTownship()}"
															id="selectResidentTownshipDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnResidentTownship}"
																update="residentPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="permentAdd"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;" valign="top"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_CUSTOMER_PARMENTADD_LABEL']}" /></td>
												<td><p:inputTextarea id="permentAdd"
														style="width:250px;"
														value="#{ManageAgentActionBean.agent.permanentAddress.permanentAddress}">
														<f:validateLength maximum="300" />
													</p:inputTextarea></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message
														for="parmanentTownId" display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_CUSTOMER_PARMANENTTOWNID_LABEL']}" />
												</td>
												<td><h:panelGrid columns="3" id="permanentPanelGroup">
														<p:inputText id="parmanentTownId" readonly="true"
															style="width:250px;margin-left:-4px;"
															value="#{ManageAgentActionBean.agent.permanentAddress.township== null ? '' : ManageAgentActionBean.agent.permanentAddress.township.name}" />
														<p:commandLink
															actionListener="#{ManageAgentActionBean.selectTownship()}"
															id="selectPermanentTownshipDialogLink" immediate="true">
															<h:graphicImage
																styleClass="#{ApplicationSetting.searchStyleClass}"
																url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn"
																listener="#{ManageAgentActionBean.returnPermanentTownship}"
																update="permanentPanelGroup" />
														</p:commandLink>
													</h:panelGrid></td>
											</tr>
										</table>
									</td>
									<td valign="top">
										<table>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="phone"
														display="text" /></td>
											</tr>
											<tr valign="top">
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_PHONE_LABEL']}" /></td>
												<td><p:inputText id="phone" style="width:250px;"
														value="#{ManageAgentActionBean.agent.contentInfo.phone}">
														<f:validateLength maximum="20" />
													</p:inputText></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="fax"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_FAX_LABEL']}" /></td>
												<td><p:inputText id="fax" style="width:250px;"
														value="#{ManageAgentActionBean.agent.contentInfo.fax}">
														<f:validateLength maximum="20" />
													</p:inputText></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="mobile"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_MOBILE_LABEL']}" /></td>
												<td><p:inputText id="mobile" style="width:250px;"
														value="#{ManageAgentActionBean.agent.contentInfo.mobile}">
														<f:validateLength maximum="20" />
													</p:inputText></td>
											</tr>
											<tr>
												<td />
												<td style="width: 115px;"><p:message for="email"
														display="text" /></td>
											</tr>
											<tr>
												<td style="width: 115px;"><h:outputText
														styleClass="input-label"
														value="#{label['MANAGE_AGENT_EMAIL_LABEL']}" /></td>
												<td><p:inputText id="email" style="width:250px;"
														value="#{ManageAgentActionBean.agent.contentInfo.email}">
													</p:inputText></td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</p:panel>
					</p:tab>
					<p:tab id="familyInfo" title="Family Info">
						<p:panel header="Family Info" id="familyInfopanel">
							<p:panelGrid columns="3"
								columnClasses="ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
								layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:panelGrid id="familylLeftPanel" columns="2"
									columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:message for="familyInitialId" display="text" />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_CUSTOMER_INITIALID_LABEL']}" />
									<p:inputText id="familyInitialId"
										value="#{ManageAgentActionBean.familyInfoDTO.initialId}" />
									<p:outputLabel />
									<p:message for="familyFirstName" display="text" />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_CUSTOMER_FAMILYINFO_FIRSTNAME_LABLE']}" />
									<p:inputText id="familyFirstName"
										value="#{ManageAgentActionBean.familyInfoDTO.name.firstName}" />
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_CUSTOMER_FAMILYINFO_LASTNAME_LABLE']}" />
									<p:inputText id="familyMiddleName"
										value="#{ManageAgentActionBean.familyInfoDTO.name.middleName}" />
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_CUSTOMER_FAMILYINFO_LASTNAME_LABLE']}" />
									<p:inputText id="familyLastName"
										value="#{ManageAgentActionBean.familyInfoDTO.name.lastName}" />
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_CUSTOMER_FAMILYINFO_DOB_LABLE']}" />
									<p:inputMask id="familyDob" mask="99-99-9999"
										value="#{ManageAgentActionBean.familyInfoDTO.dateOfBirth}">
										<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}"
											timeZone="#{ApplicationSetting.timeZone}" />
									</p:inputMask>
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_CUSTOMER_IDTYPE_LABEL']}" />
									<p:selectOneMenu id="familyIdType"
										value="#{ManageAgentActionBean.familyInfoDTO.idType}">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type}"
											value="#{ManageAgentActionBean.idTypeSelectItemList}"
											var="type" />
										<p:ajax
											update="@form:familyInfopanel:familylIdPanel  familyIdType" />
									</p:selectOneMenu>
								</p:panelGrid>
								<p:panelGrid id="familylMidPanel" columns="2"
									columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
								</p:panelGrid>
								<p:panelGrid id="familylRightPanel" columns="2"
									columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:message for="familyRelationShip" display="text" />
									<h:outputText styleClass="input-label mandatory"
										value="#{label['MANAGE_CUSTOMER_FAMILYINFO_RELSHIP_LABLE']}" />
									<p:selectOneMenu
										converter="omnifaces.SelectItemsIndexConverter"
										id="familyRelationShip"
										value="#{ManageAgentActionBean.familyInfoDTO.relationShip}">
										<f:selectItems itemLabel="#{relationShip.name}"
											itemValue="#{relationShip}"
											value="#{ManageAgentActionBean.relationShipList}"
											var="relationShip" />
									</p:selectOneMenu>
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_CUSTOMER_OCCUPATION_LABEL']}" />
									<h:panelGrid columns="3" id="familyOccupationPanelGroup">
										<p:inputText id="familyOccupation" readonly="true"
											style="width:250px;margin-left:-4px;"
											value="#{ManageAgentActionBean.familyInfoDTO.occupation == null ? '' : ManageAgentActionBean.familyInfoDTO.occupation.name}" />
										<p:commandLink
											actionListener="#{ManageAgentActionBean.selectOccupation()}"
											id="selectFamilyOccupationDialogLink" immediate="true">
											<h:graphicImage
												styleClass="#{ApplicationSetting.searchStyleClass}"
												url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn"
												listener="#{ManageAgentActionBean.returnFamilyOccupation}"
												update="familyOccupationPanelGroup" />
										</p:commandLink>
									</h:panelGrid>
									<p:outputLabel />
									<p:outputLabel />
									<h:outputText styleClass="input-label"
										value="#{label['MANAGE_CUSTOMER_INDUSTRY_LABEL']}" />
									<h:panelGrid columns="3" id="familyIndustryPanelGroup">
										<p:inputText id="fanuktIndustry" readonly="true"
											required="true" style="width:250px;margin-left:-4px;"
											value="#{ManageAgentActionBean.familyInfoDTO.industry== null ? '' : ManageAgentActionBean.familyInfoDTO.industry.name}" />
										<p:commandLink
											actionListener="#{ManageAgentActionBean.selectIndustry()}"
											id="selectFamilyIndustryDialogLink" immediate="true">
											<h:graphicImage
												styleClass="#{ApplicationSetting.searchStyleClass}"
												url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn"
												listener="#{ManageAgentActionBean.returnFamilyIndustry}"
												update="familyIndustryPanelGroup" />
										</p:commandLink>
									</h:panelGrid>
								</p:panelGrid>
							</p:panelGrid>
							<p:panelGrid id="familylIdPanel" columns="1"
								columnClasses="ui-grid-col-7" layout="grid"
								styleClass="ui-panelgrid-blank ui-fluid">
								<p:panelGrid id="familylIdPanel1" columns="2"
									columnClasses="ui-grid-col-2,ui-grid-col-8" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:message for="familyNrcNo" display="text" />
									<h:outputText id="idOutputLable"
										styleClass="input-label mandatory"
										rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq null or ManageAgentActionBean.familyInfoDTO.idType ne 'STILL_APPLYING'}"
										value="#{label['MANAGE_CUSTOMER_FAMILYINFO_ID_LABLE']}" />
									<p:panelGrid id="familyIdNoGroup" columns="4"
										columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
										layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
										rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'NRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq null}">
										<p:selectOneMenu id="familyStateCode"
											rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'NRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq null}"
											value="#{ManageAgentActionBean.familyInfoDTO.stateCode}"
											required="#{not empty param[vehReq.clientId]}">
											<f:selectItem itemLabel="" />
											<f:selectItems itemLabel="#{stateCode}"
												itemValue="#{stateCode}"
												value="#{ManageAgentActionBean.stateCodeList}"
												var="stateCode" />
											<p:ajax event="valueChange"
												listener="#{ManageAgentActionBean.changeFamilyStateCode}"
												update="familyTownshipCode" />
										</p:selectOneMenu>
										<p:selectOneMenu id="familyTownshipCode"
											required="#{not empty param[vehReq.clientId]}"
											value="#{ManageAgentActionBean.familyInfoDTO.townshipCode}"
											rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'NRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq null}"
											filter="true" filterMatchMode="startsWith">
											<f:selectItem itemLabel="" />
											<f:selectItems itemLabel="#{townshipCode}"
												itemValue="#{townshipCode}"
												value="#{ManageAgentActionBean.townshipCodeList}"
												var="townshipCode" />
										</p:selectOneMenu>
										<p:selectOneMenu id="familyIdConditionType"
											required="#{not empty param[vehReq.clientId]}"
											value="#{ManageAgentActionBean.familyInfoDTO.idConditionType}"
											rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'NRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq null}">
											<f:selectItem itemLabel="" />
											<f:selectItems itemLabel="#{type.label}" itemValue="#{type}"
												value="#{ManageAgentActionBean.idConditionTypeSelectItemList}"
												var="type" />
										</p:selectOneMenu>
										<p:inputText id="familyNrcNo"
											required="#{not empty param[vehReq.clientId]}"
											onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="6"
											value="#{ManageAgentActionBean.familyInfoDTO.idNo}"
											rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'NRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq null}" >
										<!-- 	<f:validateLength minimum="6" maximum="6" /> -->
										</p:inputText>
									</p:panelGrid>
									<p:panelGrid id="familyIdNoGroup1" columns="1"
										columnClasses="ui-grid-col-4" layout="grid"
										styleClass="ui-panelgrid-blank ui-fluid"
										rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'FRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq 'PASSPORTNO'}">
										<p:inputText id="familyFPNo"
											required="#{not empty param[vehReq.clientId]}"
											value="#{ManageAgentActionBean.familyInfoDTO.idNo}"
											rendered="#{ManageAgentActionBean.familyInfoDTO.idType eq 'FRCNO' or ManageAgentActionBean.familyInfoDTO.idType eq 'PASSPORTNO'}" />
									</p:panelGrid>
								</p:panelGrid>
								<p:panelGrid id="familylIdPanel2" columns="1"
									columnClasses="ui-grid-col-2" layout="grid"
									styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:commandButton
										action="#{ManageAgentActionBean.saveFamilyInfo}"
										id="addFamilyInfoBtn"
										rendered="#{ManageAgentActionBean.createNewFamilyInfo}"
										style="width: 65px;" update=":agentEntryForm:familyInfopanel"
										value="#{label['COMMON_ADDNEW_BTN']}" />
									<p:commandButton
										action="#{ManageAgentActionBean.saveFamilyInfo}"
										id="editFamilyInfoBtn"
										rendered="#{!ManageAgentActionBean.createNewFamilyInfo}"
										style="width: 65px;" update=":agentEntryForm:familyInfopanel"
										value="#{label['COMMON_UPDATE_BTN']}" />
								</p:panelGrid>
							</p:panelGrid>
							<p:separator style="height: 2px;" />
							<h:panelGrid columns="1" style="margin-left: -5px;">
								<p:commandLink
									action="#{ManageAgentActionBean.prepareAddNewFamilyInfo()}"
									immediate="true">
									<h:panelGrid columns="2">
										<h:graphicImage
											styleClass="#{ApplicationSetting.addStyleClass}"
											value="#{ApplicationSetting.addIcon}" />
										<h:outputText styleClass="input-label"
											value="#{label['MANAGE_CUSTOMER_FAMILYINFO_LABLE']}" />
									</h:panelGrid>
								</p:commandLink>
							</h:panelGrid>
							<p:message for="familyInfoTable" display="text" />
							<p:dataTable id="familyInfoTable" style="width:100%"
								value="#{ManageAgentActionBean.familyInfoDTOList}"
								var="familyInfo">
								<p:column headerText="Name">
									<h:outputText value="#{familyInfo.fullName}" />
								</p:column>
								<p:column
									headerText="#{label['MANAGE_CUSTOMER_FAMILYINFO_DOB_LABLE']}">
									<h:outputText value="#{familyInfo.dateOfBirth}">
										<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}"
											timeZone="#{ApplicationSetting.timeZone}" />
									</h:outputText>
								</p:column>
								<p:column
									headerText="#{label['MANAGE_CUSTOMER_FAMILYINFO_NRC_LABLE']}">
									<h:outputText value="#{familyInfo.fullIdNo}" />
								</p:column>
								<p:column
									headerText="#{label['MANAGE_CUSTOMER_FAMILYINFO_RELSHIP_LABLE']}">
									<h:outputText
										value="#{empty familyInfo.relationShip ? '' : familyInfo.relationShip.name}" />
								</p:column>
								<p:column
									headerText="#{label['MANAGE_CUSTOMER_OCCUPATION_LABEL']}">
									<h:outputText
										value="#{empty familyInfo.occupation ? '' : familyInfo.occupation.name}" />
								</p:column>
								<p:column
									headerText="#{label['MANAGE_CUSTOMER_INDUSTRY_LABEL']}">
									<h:outputText
										value="#{empty familyInfo.industry ? '' : familyInfo.industry.name}" />
								</p:column>
								<p:column headerText="Edit"
									style="width:50px; text-align: center;">
									<h:commandLink
										action="#{ManageAgentActionBean.prepareEditFamilyInfo(familyInfo)}"
										id="editFamilyInfoLink">
										<f:ajax render=":agentEntryForm:familyInfopanel" />
										<p:graphicImage
											styleClass="#{ApplicationSetting.editStyleClass}"
											value="#{ApplicationSetting.editIcon}" />
									</h:commandLink>
								</p:column>
								<p:column headerText="Delete"
									style="width:50px; text-align: center;">
									<p:commandLink
										action="#{ManageAgentActionBean.removeFamilyInfo(familyInfo)}"
										immediate="true" update=":agentEntryForm:familyInfopanel">
										<p:graphicImage
											styleClass="#{ApplicationSetting.deleteStyleClass}"
											value="#{ApplicationSetting.deleteIcon}" />
									</p:commandLink>
								</p:column>
							</p:dataTable>
						</p:panel>
						<br />
						<p:commandButton action="#{ManageAgentActionBean.addNewAgent}"
							id="addBtn" rendered="#{ManageAgentActionBean.createNew}"
							style="width: 80px;"
							update="@parent,agentEntryForm :agentTableForm"
							value="#{label['COMMON_ADDNEW_BTN']}" binding="#{agentReq}" />
					</p:tab>
				</p:wizard>
				<p:commandButton action="#{ManageAgentActionBean.updateAgent}"
					id="editBtn" rendered="#{!ManageAgentActionBean.createNew}"
					update="@parent,agentEntryForm :agentTableForm"
					value="#{label['COMMON_UPDATE_BTN']}" />
				<h:outputText style="color:red;"
					value="#{label['COMMON_MSG_MANDATORY_LABEL']}" />
				<br />
			</div>
		</h:form>
		<h:form enctype="multipart/form-data" id="agentTableForm">
			<p:commandLink action="#{ManageAgentActionBean.createNewAgent}">
				<h:panelGrid columns="2">
					<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}"
						value="#{ApplicationSetting.addIcon}" />
					<h:outputText styleClass="command-link"
						value="#{label['COMMON_ADDNEW_LINK']}" />
				</h:panelGrid>
				<p:ajax update="@parent,:agentEntryForm" />
			</p:commandLink>
		</h:form>
		<!-- Confirmation Dialog -->
		<h:form id="confiationForm">
			<p:dialog header="#{label['MANAGE_AGENT_DELETE_CONFIRM']}"
				height="100" hideEffect="explode" id="confirmationDialog"
				resizable="false" showEffect="explode"
				widgetVar="confirmationDialog" width="250">
				<h:panelGroup id="confirmationPanel">
					<table>
						<tr>
							<td align="left"><h:graphicImage
									style="width:30px;height:30px;" url="/images/warning.png" /></td>
							<td valign="middle"><h:outputText
									style="padding-top:-10px;text-decoration: none;font-size: 12px;"
									value="#{label['COMMON_MSG_DELETE_CONFIRM_LABEL']}" /></td>
						</tr>
					</table>
					<br />
					<p:commandButton action="#{ManageAgentActionBean.deleteAgent}"
						immediate="true" oncomplete="PF('confirmationDialog').hide();"
						update=":agentEntryForm" value="#{label['COMMON_YES_BTN']}" />
					<p:commandButton immediate="true"
						oncomplete="PF('confirmationDialog').hide();"
						value="#{label['COMMON_NO_BTN']}" />
				</h:panelGroup>
			</p:dialog>
		</h:form>
		<!-- SelectOrganization -->
	</ui:define>
</ui:composition>