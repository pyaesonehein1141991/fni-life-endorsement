<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" template="/dialog/dialogTemplate.xhtml">
	<ui:param name="uploadRootPath" value="/image" />
	<ui:define name="content">
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<h:form id="travelProposalTemplateForm">
			<p:wizard widgetVar="wiz">
				<p:tab id="proposalInfo" title="Proposal Info" styleClass="input-label" titleStyle="font-size:14px">
					<p:panel header="Proposal Info" style="min-height:410px;">
						<p:panelGrid columns="2" columnClasses="ui-grid-col-6,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText styleClass="input-label" value="#{label['ADDNEWLIFEOPOSAL_PROPOSALNO_LABEL']}" />
								<p:inputText id="detailsProposalNo" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.proposalNo}" />
								<h:outputText styleClass="input-label" value="Policy No" />
								<p:inputText id="detailsPolicyNo" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.policyNo}" />
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_SUBMITTEDDATE_LABEL']}" />
								<p:inputText id="submittedDate" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.submittedDate}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</p:inputText>
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_BRANCH_LABEL']}" />
								<p:inputText id="branch" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.branch.name}" />
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_STARTDATE_LABEL']}" />
								<p:inputText id="fromDate" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.fromDate}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</p:inputText>
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_ENDDATE_LABEL']}" />
								<p:inputText id="toDate" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.toDate}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</p:inputText>
							</p:panelGrid>
							<p:panelGrid columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_SALECHANNEL_LABEL']}" />
								<p:inputText id="salechannel" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.saleChannelType.label}" />
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_AGENT_LABEL']}" />
								<p:inputText id="salePerson" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.salePerson}" />
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_PAYMENTTYPE_LABEL']}" />
								<p:inputText id="paymentType" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.paymentType.name}" />
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_TOTALUNITS_LABEL']}" />
								<p:inputText id="totalUnits" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.totalUnit}" />
								<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_TOTALPREMIUM_LABEL']}" />
								<p:inputText id="premium" readonly="true" value="#{TravelProposalTemplateBean.travelProposal.premium}">
									<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
								</p:inputText>
							</p:panelGrid>
						</p:panelGrid>
					</p:panel>
				</p:tab>
				<p:tab id="expressInfo" title="Express Info Details" styleClass="input-label" titleStyle="font-size:14px">
					<p:panel header="Express Information" id="expressInfoWizardPanel" style="min-height:410px;">
						<p:dataTable id="expressTable" paginator="true" rowIndexVar="index" value="#{TravelProposalTemplateBean.travelProposal.expressList}" var="express">
							<p:column style="width:3%;">
								<h:outputText value="#{index + 1}" />
							</p:column>
							<p:column headerText="Express Name">
								<h:outputText value="#{express.express.name}" />
							</p:column>
							<p:column headerText="No. of Passenger">
								<h:outputText value="#{express.noOfPassenger}" />
							</p:column>
							<p:column headerText="No. of Units">
								<h:outputText value="#{express.noOfUnit}" />
							</p:column>
							<p:column headerText="Premium">
								<h:outputText value="#{express.premium}" />
							</p:column>
							<p:column>
								<p:commandLink immediate="true" oncomplete="PF('tourDetailDialog#{express.id}').show();">
									<h:outputText value="Tour" />
								</p:commandLink>
							</p:column>
						</p:dataTable>
					</p:panel>
				</p:tab>
				<p:tab id="workFlowWizardTab" title="Workflow Info" styleClass="input-label" titleStyle="font-size:14px">
					<p:panel header="Remark" id="workflowWizardPanel" style="min-height:410px;">
						<p:dataTable id="workflow" paginator="true" rows="10" style="width:100%" value="#{TravelProposalTemplateBean.workFlowList}" var="workflow">
							<p:column headerText="From">
								<h:outputText value="#{workflow.createdUser.name}" />
							</p:column>
							<p:column headerText="To">
								<h:outputText value="#{workflow.responsiblePerson.name}" />
							</p:column>
							<p:column headerText="Task">
								<h:outputText value="#{workflow.workflowTask.label}" />
							</p:column>
							<p:column headerText="Remark">
								<h:outputText value="#{workflow.remark}" />
							</p:column>
							<p:column headerText="Date">
								<h:outputText value="#{workflow.workflowDate}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateTimeFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
						</p:dataTable>
					</p:panel>
				</p:tab>
			</p:wizard>
			<ui:repeat value="#{TravelProposalTemplateBean.travelProposal.expressList}" var="express">
				<p:dialog header="Tour Details" height="360" hideEffect="explode" id="tourDetailDialog#{express.id}" resizable="false" showEffect="explode"
					widgetVar="tourDetailDialog#{express.id}" width="900">
					<p:dataTable id="tourDetailTable" value="#{express.getExpressDetailsList(express.id)}" var="details">
						<p:column headerText="Occurrence">
							<h:outputText value="#{details.tour.occurrence.description}" />
						</p:column>
						<p:column headerText="Registeration No">
							<h:outputText value="#{details.registrationNo}" />
						</p:column>
						<p:column headerText="No of Passenger">
							<h:outputText value="#{details.noOfPassenger}" />
						</p:column>
						<p:column headerText="No of Unit">
							<h:outputText value="#{details.noOfUnit}" />
						</p:column>
						<p:column headerText="Premium">
							<h:outputText value="#{details.premium}" />
						</p:column>
					</p:dataTable>
				</p:dialog>
			</ui:repeat>
		</h:form>
	</ui:define>
	<p:tab id="proposalInfo" title="Proposal Info">
		<p:panel header="Proposal Info" style="min-height:280px;">
			<table>
				<tr>
					<td valign="top">
						<table>
							<tr>
								<td width="120px;"></td>
								<td></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
			<table border="0">
				<tr>
					<td valign="top"><h:panelGroup>
							<fieldset>
								<legend>
									<h:outputText styleClass="input-label" value="Express Detail" />
								</legend>
								<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">
									<tr>
										<td align="center" style="height: 25px; width: 50px;"><font style="font-size: 11px; font-weight: bold;">No.</font></td>
										<td align="center" style="width: 200px;"><font style="font-size: 11px; font-weight: bold;">Name</font></td>
										<td align="center" style="width: 120px;"><font style="font-size: 11px; font-weight: bold;">NoOfPassenger</font></td>
										<td align="center" style="width: 100px;"><font style="font-size: 11px; font-weight: bold;">NoOfUnit</font></td>
										<td align="center" style="width: 160px;"><font style="font-size: 11px; font-weight: bold;">NetPremium</font></td>
									</tr>
									<ui:repeat value="#{travelProposal.expressList}" var="travelExpress" varStatus="loop">
										<tr>
											<td align="center"><h:outputText value="#{loop.index + 1}. " /></td>
											<td align="center"><h:outputText value="#{travelExpress.express.name} " /></td>
											<td align="center"><h:outputText value="#{travelExpress.noOfPassenger}" /></td>
											<td align="center"><h:outputText value="#{travelExpress.noOfUnit} " /></td>
											<td align="center"><h:outputText value="#{travelExpress.netPremium} ">
													<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
												</h:outputText></td>
										</tr>
									</ui:repeat>
									<tr>
										<td align="center" colspan="4" style="height: 25px;"><b>Total NetPremium</b></td>
										<td align="center"><h:outputText value="#{travelProposal.totalNetPremium}">
												<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
											</h:outputText></td>
									</tr>
								</table>
							</fieldset>
						</h:panelGroup></td>
				</tr>
			</table>
		</p:panel>
	</p:tab>
</ui:composition>