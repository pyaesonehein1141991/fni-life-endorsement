<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:o="http://omnifaces.org/ui" xmlns:p="http://primefaces.org/ui" template="/common/commonLayout.xhtml" xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:param name="header" value="#{AddNewLifeProposalActionBean.getPageHeader()}" />
	<ui:param name="headerRendered" value="true" />
	<ui:define name="content">
		<style> 
			.nrc {
				padding: 4px 0px !important;
			}
		</style>
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<h:form enctype="multipart/form-data" id="lifeProposalEntryForm">
			<p:messages globalOnly="true" id="messages" showDetail="true" />
			<p:wizard flowListener="#{AddNewLifeProposalActionBean.onFlowProcess}" widgetVar="wiz">
				<p:tab id="proposalInfo" title="Proposal Info">
					<p:panel header="Proposal Info" id="proposalInfoWizardPanel" style="min-height:270px;">
						<p:panelGrid columns="2" columnClasses="ui-grid-col-6,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid id="proposalLeftPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:outputLabel />
								<p:message for="selectedContractorType" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEPROPOSAL_CUSTOMER_LABEL']}" />
								<p:selectOneRadio required="true" id="selectedContractorType" value="#{AddNewLifeProposalActionBean.contractorType}">
									<f:selectItem itemLabel="Person" itemValue="CUSTOMER" />
									<f:selectItem itemLabel="Organization" itemDisabled="#{AddNewLifeProposalActionBean.isPublicTermLife}" itemValue="ORGANIZATION" />
									<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.changeOrgEvent}" update=":lifeProposalEntryForm:customerPanelGroup" />
								</p:selectOneRadio>
								<p:outputLabel />
								<p:message for="customer" display="text" />
								<p:outputLabel />
								<p:panelGrid styleClass="ui-panelgrid-blank">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" jsf:id="customerPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectCustomer()}" id="selectCustomerDialogLink"
												process="@this" rendered="#{AddNewLifeProposalActionBean.contractorType eq 'CUSTOMER'}">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnCustomer}" update="customerPanelGroup" />
											</p:commandButton>
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectOrganization()}" id="selectOrganizationDialogLink"
												process="@this" rendered="#{AddNewLifeProposalActionBean.contractorType eq 'ORGANIZATION'}">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnOrganization}" update="customerPanelGroup" />
											</p:commandButton>
											<p:watermark for="customer" value="#{AddNewLifeProposalActionBean.contractorType eq 'CUSTOMER' ? 'Select Customer' : 'Select Organization'}" />
											<p:inputText id="customer" readonly="#{AddNewLifeProposalActionBean.lifeProposal.customerName == null ? facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
												value="#{AddNewLifeProposalActionBean.lifeProposal.customerName}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" rendered="#{AddNewLifeProposalActionBean.contractorType eq 'CUSTOMER'}"
												action="#{AddNewLifeProposalActionBean.lifeProposal.setCustomer(null)}" process="@this" update="customer" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" rendered="#{AddNewLifeProposalActionBean.contractorType eq 'ORGANIZATION'}"
												action="#{AddNewLifeProposalActionBean.lifeProposal.setOrganization(null)}" process="@this" update="customer" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="product" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Product" />
								<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" disabled="#{not empty AddNewLifeProposalActionBean.insuredPersonInfoDTOList}" id="product" required="true"
									value="#{AddNewLifeProposalActionBean.product}">
									<f:selectItem itemLabel="-- Select Product --" noSelectionOption="true" />
									<f:selectItems itemLabel="#{product.name}" itemValue="#{product}" value="#{AddNewLifeProposalActionBean.productsList}" var="product" />
									<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.changeProduct}"
										update="paymentType typesOfSportPanelGroup sumInsuredInfo unit periodInsure periodPanel selectedContractorType" />
								</p:selectOneMenu>
								<p:outputLabel />
								<p:message for="paymentType" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEROPOSAL_PAYMENTTYPE_LABEL']}" />
								<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="paymentType" required="true" value="#{AddNewLifeProposalActionBean.lifeProposal.paymentType}">
									<f:selectItem itemLabel="-- Select Payment Type --" noSelectionOption="true" />
									<f:selectItems itemLabel="#{paymentType.name}" itemValue="#{paymentType}" value="#{AddNewLifeProposalActionBean.paymentTypes}" var="paymentType" />
								</p:selectOneMenu>
							</p:panelGrid>
							<p:panelGrid id="proposalRightPanel" columns="2" columnClasses="ui-grid-col-4,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:outputLabel />
								<p:message for="saleUserType" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Sale Channel" />
								<p:selectOneMenu required="true" styleClass="input-label" id="saleUserType" value="#{AddNewLifeProposalActionBean.lifeProposal.saleChannelType}">
									<f:selectItem itemLabel="Selected Sale Channel" />
									<f:selectItems value="#{AddNewLifeProposalActionBean.saleChannel}" />
									<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.changeSaleEvent}" update="@form:proposalRightPanel" />
								</p:selectOneMenu>
								<p:outputLabel />
								<p:message for="agent" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Agent" rendered="#{(AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'AGENT')}" />
								<h:outputText styleClass="input-label" value="Agent"
									rendered="#{(AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'BANK') or (AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'DIRECTMARKETING')}" />
								<p:panelGrid styleClass="ui-panelgrid-blank"
									rendered="#{(AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'AGENT') or (AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'BANK') or (AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'DIRECTMARKETING')}">
									<div style="margin: -6px -7px;" class="ui-g ui-fluid" id="agentPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectAgent()}" id="selectAgentDialogLink" process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnAgent}" update="agent" />
											</p:commandButton>
											<p:inputText id="agent"
												readonly="#{AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'AGENT' and AddNewLifeProposalActionBean.lifeProposal.agent.fullName == null? facesContext.currentPhaseId.ordinal eq 6 : true}"
												required="#{AddNewLifeProposalActionBean.lifeProposal.saleChannelType eq 'AGENT'}"
												value="#{(AddNewLifeProposalActionBean.lifeProposal.agent ==null ? '' : AddNewLifeProposalActionBean.lifeProposal.agent.fullName)}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.lifeProposal.setAgent(null)}" process="@this" update="agent" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="submittedDate" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEPROPOSAL_SUBMITTEDDATE_LABEL']}" />
								<p:calendar id="submittedDate" pattern="#{ApplicationSetting.dateFormat}" required="true" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
									value="#{AddNewLifeProposalActionBean.lifeProposal.submittedDate}" />
								<p:outputLabel />
								<p:message for="branch" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEPROPOSAL_BRANCH_LABEL']}" />
							   	<p:selectOneMenu id="branch" value="#{AddNewLifeProposalActionBean.user.loginBranch.name}" disabled="true">
						            <f:selectItems value="#{AddNewLifeProposalActionBean.user.accessBranchList}" var="branch" itemLabel="#{branch.name}" itemValue="#{branch}" /> 
						        </p:selectOneMenu>
						        <p:outputLabel />
						        <p:message for="salesPoints" display="text"/>
						        <h:outputText styleClass="input-label mandatory" value="Sales Points"  />
								<p:panelGrid styleClass="ui-panelgrid-blank" >
									<div style="margin:-6px -7px;" class="ui-g ui-fluid" id="salesPointsPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectSalesPoints()}" id="selectSalesPointsDialogLink"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnSalesPoints}" update="salesPoints" />
											</p:commandButton>
											<p:inputText id="salesPoints" readonly="#{AddNewLifeProposalActionBean.lifeProposal.salesPoints == null? facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
												value="#{(AddNewLifeProposalActionBean.lifeProposal.salesPoints == null ? '' :AddNewLifeProposalActionBean.lifeProposal.salesPoints.name)}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.lifeProposal.setSalesPoints(null)}" process="@this" update="salesPoints" />
										</div>
									</div>
								</p:panelGrid>
        
								<h:outputText rendered="#{AddNewLifeProposalActionBean.isEndorse}" styleClass="input-label mandatory" value="Is it Financial Endorse" />
								<p:selectBooleanCheckbox required="true" rendered="#{AddNewLifeProposalActionBean.isEndorse}" id="checkFinancial"
									value="#{AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}" update="endorseLetterPrint" />
								<p:outputLabel />
								<p:message for="periodOfInsurance" display="text" rendered="#{!AddNewLifeProposalActionBean.isPersonalAccident and !AddNewLifeProposalActionBean.isShortTermEndowment}" />
								<p:message for="periodMonth" display="text" rendered="#{AddNewLifeProposalActionBean.isPersonalAccident}" />
								<p:message for="periodYear" display="text" rendered="#{AddNewLifeProposalActionBean.isShortTermEndowment}" />
								<h:outputText id="periodInsure" styleClass="input-label mandatory"
									value="#{AddNewLifeProposalActionBean.isMonthBase ? 'Period of Insurance (Months)' : 'Period of Insurance (Years)' } " />
								<p:outputPanel id="periodPanel">
									<p:inputText id="periodOfInsurance" rendered="#{!AddNewLifeProposalActionBean.isPersonalAccident and !AddNewLifeProposalActionBean.isShortTermEndowment}" required="true"
										value="#{AddNewLifeProposalActionBean.lifeProposal.periodMonth}"
										disabled="#{AddNewLifeProposalActionBean.isEndorse and !AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}" maxlength="2">
										<o:validator maximum="#{AddNewLifeProposalActionBean.maximumTrem}" minimum="#{AddNewLifeProposalActionBean.munimumTrem}" validatorId="javax.faces.LongRange" />
									</p:inputText>
									<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="periodMonth" rendered="#{AddNewLifeProposalActionBean.isPersonalAccident}" required="true"
										value="#{AddNewLifeProposalActionBean.lifeProposal.periodMonth}"
										disabled="#{AddNewLifeProposalActionBean.isEndorse and !AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}">
										<f:selectItem itemLabel="-- Select Period --" noSelectionOption="true" />
										<f:selectItems value="#{AddNewLifeProposalActionBean.periodMonths}" var="month" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="periodYear" rendered="#{AddNewLifeProposalActionBean.isShortTermEndowment}" required="true"
										value="#{AddNewLifeProposalActionBean.lifeProposal.periodMonth}"
										disabled="#{AddNewLifeProposalActionBean.isEndorse and !AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}">
										<f:selectItem itemLabel="-- Select Period --" noSelectionOption="true" />
										<f:selectItems value="#{AddNewLifeProposalActionBean.sePeriodYears}" var="year" />
									</p:selectOneMenu>
								</p:outputPanel>
								<p:outputLabel />
								<p:message for="startDate" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEPROPOSAL_STARTDATE_LABEL']}" />
								<p:calendar id="startDate" pattern="#{ApplicationSetting.dateFormat}" required="true" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
									value="#{AddNewLifeProposalActionBean.lifeProposal.startDate}" />
								<p:outputLabel />
							</p:panelGrid>
						</p:panelGrid>
					</p:panel>
				</p:tab>
				<p:tab id="InsuredPersonInfo" title="InsuredPerson Info">
					<p:panel header="InsuredPerson Information" id="insuredPersonInfoWizardPanel" style="min-height:270px;">
						<p:panelGrid columns="2" id="personInfoPanel" columnClasses="ui-grid-col-6,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:panelGrid id="personInfoLeftPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:message for="existingCustomer" display="text" />
									<h:outputText styleClass="input-label" value="#{label['MANAGELIFEPROPOSAL_INSURED_PERSOIN_LABEL']}" />
									<p:panelGrid styleClass="ui-panelgrid-blank">
										<div style="margin: -6px -7px;" class="ui-g ui-fluid" jsf:id="insuredPersonPanel">
											<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
												<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectCustomer()}" id="selectInsuredPersonDialogLink"
													process="@this">
													<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnInsuredPerson}" update="personInfoPanel" />
												</p:commandButton>
												<p:inputText id="existingCustomer" readonly="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.name == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
													required="true"
													value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.fullName == null ? AddNewLifeProposalActionBean.lifeProposal.customerName : AddNewLifeProposalActionBean.insuredPersonInfoDTO.fullName}" />
												<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.resetInsuredPersonDTO()}" process="@this" update="personInfoPanel" />
											</div>
										</div>
									</p:panelGrid>
									<p:outputLabel />
									<p:message for="initialId" display="text" />
									<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_INITIALID_LABEL']}" />
									<p:inputText id="initialId" required="#{not empty param[isRequired.clientId]}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.initialId}"
										disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}">
										<f:validateLength maximum="36" />
									</p:inputText>
									
									<p:outputLabel />
									<p:message for="firstName" display="text" />
									<h:outputText styleClass="input-label mandatory" value="#{label['INSU_NAME_LABEL']}" />
									<p:panelGrid columns="3" columnClasses="nrc ui-grid-col-4,nrc ui-grid-col-4,nrc ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
										<p:inputText id="firstName" required="#{not empty param[isRequired.clientId]}" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}"
											value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.name.firstName}">
											<f:validateLength maximum="360" />
										</p:inputText>
										<p:inputText id="middleName" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.name.middleName}">
											<f:validateLength maximum="100" />
										</p:inputText>
										<p:inputText id="lastName" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.name.lastName}">
											<f:validateLength maximum="100" />
										</p:inputText>
									</p:panelGrid>
									
									<p:outputLabel />
									<p:message for="fatherName" display="text" />
									<!-- <c:choose>
									    <c:when test="#{AddNewLifeProposalActionBean.isSnakeBite}">
									        <h:outputText styleClass="input-label" value="Father Name" />
									    </c:when>    
									    <c:otherwise>
									        <h:outputText styleClass="input-label mandatory" value="Father Name" />
									    </c:otherwise>
									</c:choose> -->
									<h:outputText styleClass="input-label" rendered="#{AddNewLifeProposalActionBean.isSnakeBite}" value="Father Name" />
									<h:outputText styleClass="input-label mandatory" rendered="#{!AddNewLifeProposalActionBean.isSnakeBite}" value="Father Name" />
									<p:inputText id="fatherName" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.fatherName}" required="#{AddNewLifeProposalActionBean.isSnakeBite} ? false : #{not empty param[isRequired.clientId]}">
										<f:validateLength maximum="100" />
									</p:inputText>
									
									<p:outputLabel />
									<p:message for="dateOfBirth" display="text" />
									<c:choose>
									    <c:when test="#{AddNewLifeProposalActionBean.isSnakeBite}">
									        <h:outputText styleClass="input-label" value="Date Of Birth" />
									    </c:when>    
									    <c:otherwise>
									        <h:outputText styleClass="input-label mandatory" value="Date Of Birth" />
									    </c:otherwise>
									</c:choose>
									<p:inputMask id="dateOfBirth" mask="99-99-9999" required="#{AddNewLifeProposalActionBean.isSnakeBite} ? false : #{not empty param[isRequired.clientId]}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.dateOfBirth}"
										disabled="#{(AddNewLifeProposalActionBean.isEndorse and !AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse) or AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}">
										<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
									</p:inputMask>
									
									<p:outputLabel />
									<p:message for="phone" display="text" />
									<h:outputText styleClass="input-label" value="Phone" />
									<p:inputText id="phone" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.phone}" />
									
									<p:outputLabel />
									<p:message for="idType" display="text" />
									<h:outputText styleClass="input-label mandatory" value="ID Type" />
									<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="idType" required="#{not empty param[isRequired.clientId]}"
										disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType}">
										<f:selectItem itemLabel="-- Select Id Type --" noSelectionOption="true" />
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewLifeProposalActionBean.idTypes}" var="type" />
										<p:ajax event="valueChange" update="insuredPersonInfoPanel idType" />
									</p:selectOneMenu>
								</p:panelGrid>
								<p:panelGrid id="insuredPersonInfoPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
									<p:outputLabel />
									<p:message for="insuredPersonNo" display="text" />
									<h:outputText styleClass="input-label mandatory" id="idLabel"
										rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType ne 'STILL_APPLYING' or AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType == null}"
										value="#{label['MANAGE_AGENT_IDNO_LABEL']}" />
									<p:panelGrid id="insuredPersonIdNoGroup" columns="4" columnClasses="ui-grid-col-3,ui-grid-col-5,ui-grid-col-3,ui-grid-col-3" layout="grid"
										styleClass="ui-panelgrid-blank ui-fluid" rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}">
										<p:selectOneMenu id="insuredPersonStateCode" style="margin-left:-10px;" rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}" required="true"
											value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.provinceCode}" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}">
											<f:selectItem itemLabel="" />
											<f:selectItems itemLabel="#{provinceCode}" itemValue="#{provinceCode}" value="#{AddNewLifeProposalActionBean.provinceCodeList}" var="provinceCode" />
											<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.changeIPersonProvinceCode}" update="insuredPersonIdNoGroup" />
										</p:selectOneMenu>
										<p:selectOneMenu id="insuredPersonTownshipCode" style="margin-left:-27px;max-width:110px;" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.townshipCode}"
											rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}" filter="true" filterMatchMode="startsWith"
											disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}">
											<f:selectItem itemLabel="" />
											<f:selectItems itemLabel="#{townshipCode}" itemValue="#{townshipCode}" value="#{AddNewLifeProposalActionBean.iPersonTownshipCodeList}" var="townshipCode" />
										</p:selectOneMenu>
										<p:selectOneMenu id="idConditionType" style="margin-left:-45px;" required="true" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idConditionType}"
											rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}">
											<f:selectItem itemLabel="" />
											<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewLifeProposalActionBean.idConditionTypeSelectItemList}" var="type" />
										</p:selectOneMenu>
										<p:inputText id="insuredPersonNo" style="margin-left:-60px;min-width:80px;" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idNo}" required="true"
											onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="6" 
											rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType ne 'STILL_APPLYING'}" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}" >
                                            <f:validateLength minimum="6" maximum="6" />
                                         </p:inputText>
									</p:panelGrid>
									<p:panelGrid id="insuredPersonIdNoGroup1" columns="1" columnClasses="ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
										rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'FRCNO' or AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'PASSPORTNO'}">
										<p:inputText id="frcIdNo" style="margin-left: -10;width: 300px" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idNo}" required="true"
											disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}"
											rendered="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'FRCNO' or AddNewLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'PASSPORTNO'}" />
									</p:panelGrid>
								</p:panelGrid>
							</p:panelGrid>
							<p:panelGrid id="personInfoRightPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:outputLabel />
								<p:message for="insuredPersonRs" display="text" />
								<h:outputText styleClass="input-label" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
								<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="insuredPersonRs" disabled="#{AddNewLifeProposalActionBean.selfRelation}"
									value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.relationship}">
									<f:selectItem itemLabel="Select Relationship" noSelectionOption="true" />
									<f:selectItems itemLabel="#{relationship.name}" itemValue="#{relationship}" value="#{AddNewLifeProposalActionBean.relationshipList}" var="relationship" />
									<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.changeRelationship}" />
								</p:selectOneMenu>
								<p:outputLabel />
								<p:message for="resident" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Resident Address" />
								<p:inputTextarea id="resident" required="#{not empty param[isRequired.clientId]}" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}"
									value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.residentAddress}">
									<f:validateLength maximum="200" />
								</p:inputTextarea>
								<p:outputLabel />
								<p:message for="townShip" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Resident TownShip" />
								<p:panelGrid styleClass="ui-panelgrid-blank">
									<div style="margin: -6px -7px;" class="ui-g ui-fluid" id="townShipPanelGroup1">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectTownship()}" id="selectTownShipDialogLink1"
												process="@this" disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnInsuredPersonTownShip}" update="townShip" />
											</p:commandButton>
											<p:inputText id="townShip"
												readonly="#{not empty param[isRequired.clientId] and AddNewLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.township.name == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
												style="margin-left:-4px;" required="#{not empty param[isRequired.clientId]}"
												value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.township == null ? '' : AddNewLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.township.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.setTownship(null)}"
												disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}" process="@this" update="townShip" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="occupation" display="text" />
								<h:panelGroup>
									<h:outputText styleClass="input-label" value="Occupation" />
									<h:outputText rendered="#{AddNewLifeProposalActionBean.isEndownmentLife or AddNewLifeProposalActionBean.isPersonalAccident or AddNewLifeProposalActionBean.isShortTermEndowment}" value="*" style="color:red;" />
								</h:panelGroup>
								<p:panelGrid styleClass="ui-panelgrid-blank">
									<div style="margin: -6px -7px;" class="ui-g ui-fluid" id="occupationPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectOccupation()}" id="selectOccupationDialogLink1"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnOccupation}" update="occupation" />
											</p:commandButton>
											<p:inputText id="occupation"
												readonly="#{!(AddNewLifeProposalActionBean.isEndownmentLife or AddNewLifeProposalActionBean.isPersonalAccident or AddNewLifeProposalActionBean.isShortTermEndowment) ? true : AddNewLifeProposalActionBean.insuredPersonInfoDTO.occupation == null ? facesContext.currentPhaseId.ordinal eq 6 ? true : !(not empty param[isRequired.clientId]) : true}"
												required="#{(not empty param[isRequired.clientId])and (AddNewLifeProposalActionBean.isEndownmentLife or AddNewLifeProposalActionBean.isPersonalAccident or AddNewLifeProposalActionBean.isShortTermEndowment)}" style="margin-left:-4px;"
												value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.occupation == null ? '' : AddNewLifeProposalActionBean.insuredPersonInfoDTO.occupation.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.setOccupation(null)}" process="@this"
												update="occupation" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="riskOccupation" display="text" />
								<h:outputText styleClass="input-label" value="Dangerous Occupation" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="riskOccupationPanel">
									<div style="margin: -6px -7px;" class="ui-g ui-fluid" id="riskyOccupationPanelGp">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectRiskyOccupation()}" id="selectRiskyOccupation"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnRiskyOccupation}" update="riskOccupation" />
											</p:commandButton>
											<p:inputText id="riskOccupation" style="margin-left:-4px;" readonly="true"
												value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.riskyOccupation == null ? '' : AddNewLifeProposalActionBean.insuredPersonInfoDTO.riskyOccupation.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.riskyOccupation.setName(null)}" process="@this"
												update="riskOccupation" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="gender" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Gender" />
								<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="gender" required="#{not empty param[isRequired.clientId]}"
									disabled="#{AddNewLifeProposalActionBean.selfRelation and !AddNewLifeProposalActionBean.isEnquiryEdit}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.gender}">
									<f:selectItem itemLabel=" -- Select Gender --" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewLifeProposalActionBean.gender}" var="type" />
								</p:selectOneMenu>
								<p:outputLabel rendered="#{AddNewLifeProposalActionBean.isEndownmentLife}" />
								<p:message for="weight" display="text" rendered="#{AddNewLifeProposalActionBean.isEndownmentLife}" />
								<h:outputText styleClass="input-label mandatory" value="Weight" rendered="#{AddNewLifeProposalActionBean.isEndownmentLife}" />
								<p:inputText id="weight" rendered="#{AddNewLifeProposalActionBean.isEndownmentLife}" required="#{not empty param[isRequired.clientId]}"
									value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.weight}">
									<o:validator disabled="#{empty param[isRequired.clientId]}" minimum="1" validatorId="javax.faces.LongRange" />
								</p:inputText>
								<h:outputText rendered="#{AddNewLifeProposalActionBean.isEndownmentLife}" value="Height" styleClass="input-label mandatory" style="margin-top:50px !important;" />
								<p:panelGrid columns="2" rendered="#{AddNewLifeProposalActionBean.isEndownmentLife}">
									<p:message for="feets" display="text" style="margin-left:-10" />
									<p:message for="inches" display="text" style="margin-left:-10" />
									<p:inputText id="feets" placeholder="Feets" required="#{not empty param[isRequired.clientId]}" style="margin-left:-10"
										value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.feets}">
										<o:validator disabled="#{empty param[isRequired.clientId]}" minimum="1" validatorId="javax.faces.LongRange" />
									</p:inputText>
									<p:inputText id="inches" placeholder="Inches" required="#{not empty param[isRequired.clientId]}" style="margin-left:-10"
										value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.inches}">
										<o:validator disabled="#{empty param[isRequired.clientId]}" minimum="0" validatorId="javax.faces.LongRange" />
									</p:inputText>
								</p:panelGrid>
								<p:outputLabel rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite ? false :true}" />
								<p:message for="sumInsuredInfo" display="text" rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite ? false :true}" />
								<h:outputText styleClass="input-label mandatory" value="Sum Insured"
									rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite ? false :true}" />
								<p:inputNumber id="sumInsuredInfo" style="float:left;text-align:right;" required="#{not empty param[isRequired.clientId]}"
									rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite ? false :true}"
									value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.sumInsuredInfo}"
									disabled="#{AddNewLifeProposalActionBean.isEndorse and !AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}">
									<o:validator disabled="#{empty param[isRequired.clientId]}" maximum="#{AddNewLifeProposalActionBean.product.maxValue}"
										minimum="#{AddNewLifeProposalActionBean.product.minValue}" validatorId="javax.faces.LongRange" />
								</p:inputNumber>
								<p:outputLabel />
								<p:message for="unit" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Unit" rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite}" />
								<p:inputText id="unit" required="#{not empty param[isRequired.clientId]}" style="width:300px;"
									rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite}" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.unit}"
									disabled="#{AddNewLifeProposalActionBean.isEndorse and !AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}">
									<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
									<o:validator disabled="#{empty param[isRequired.clientId]}" maximum="#{AddNewLifeProposalActionBean.product.maxValue}"
										minimum="#{AddNewLifeProposalActionBean.product.minValue}" validatorId="javax.faces.LongRange" />
								</p:inputText>
								<p:outputLabel />
								<p:message for="riskyOccupation" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Is Risky Occupation" rendered="#{AddNewLifeProposalActionBean.isPersonalAccident}" />
								<p:selectBooleanCheckbox id="riskyOccupation" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.isRiskyOccupation}"
									rendered="#{AddNewLifeProposalActionBean.isPersonalAccident}" />
								<p:outputLabel />
								<p:outputLabel />
								<h:outputText rendered="#{AddNewLifeProposalActionBean.isSportMan}" styleClass="input-label" value="Types Of Sport" />
								<p:panelGrid styleClass="ui-panelgrid-blank" rendered="#{AddNewLifeProposalActionBean.isSportMan}" id="typesOfSportPanelGroup">
									<div style="margin: -6px -7px;" class="ui-g ui-fluid" id="typesOfSportPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectTypesOfSport()}" id="selectTypesOfSportDialogLink1"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnTypesOfSport}" update="typesOfSport" />
											</p:commandButton>
											<p:inputText id="typesOfSport" style="margin-left:-4px;" readonly="true"
												value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.typesOfSport == null ? '' : AddNewLifeProposalActionBean.insuredPersonInfoDTO.typesOfSport.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.typesOfSport.setName(null)}" process="@this"
												update="typesOfSport" />
										</div>
									</div>
								</p:panelGrid>
							</p:panelGrid>
						</p:panelGrid>
						<table>
							<p:column rendered="false">
								<tr>
									<td align="left" colspan="3" width="100%">
										<h:panelGroup id="addOnTablePanel" style="width:100%">
											<fieldset style="width: 50%">
												<legend>
													<table>
														<tr>
															<td>
																<p:commandLink action="#{AddNewLifeProposalActionBean.selectAddOn()}" immediate="true">
																	<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
																	<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnAddOn}" update="insuredPersonAddOnTable" />
																</p:commandLink>
															</td>
															<td>
																<h:outputText styleClass="input-label" value="#{label['MANAGE_INSUREDPERSON_ADDON_LABLE']}" />
															</td>
														</tr>
													</table>
												</legend>
												<p:dataTable id="insuredPersonAddOnTable" style="width:100%" value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTO.insuredPersonAddOnDTOList}" var="insuPesAddOn">
													<p:column headerText="AddOn">
														<h:outputText value="#{insuPesAddOn.addOn.name}" />
													</p:column>
													<!-- <p:column headerText="AddOn Type">
														<h:outputText value="#{insuPesAddOn.addOn.addOnType.label}" />
													</p:column> -->
													<p:column headerText="Delete" style="width:50px; text-align:center;">
														<p:commandLink action="#{AddNewLifeProposalActionBean.removeAddOn(insuPesAddOn)}" id="removeInsuPesAddOnLink" update=":lifeProposalEntryForm:addOnTablePanel">
															<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
														</p:commandLink>
													</p:column>
												</p:dataTable>
											</fieldset>
										</h:panelGroup>
									</td>
								</tr>
							</p:column>
							<tr>
								<td align="left" colspan="3" style="width: 100%;">
									<p:message for="beneficiariesInfoTablePanel" display="text" />
									<h:panelGroup id="beneficiariesInfoTablePanel" style="width: 100%">
										<fieldset style="width: 98%">
											<legend>
												<table>
													<tr>
														<td>
															<p:commandLink action="#{AddNewLifeProposalActionBean.prepareAddNewBeneficiariesInfo()}" id="beneficiarieid" immediate="true"
																oncomplete="PF('beneficiariesInfoEntryDialog').show();" update=":beneficiaryInfoEntryForm">
																<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
															</p:commandLink>
														</td>
														<td>
															<h:outputText styleClass="input-label" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIESINFO_LABLE']}" />
														</td>
													</tr>
												</table>
											</legend>
											<p:dataTable id="beneficiaryPersonTable" style="width:100%" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTOList}" var="beneficiary">
												<p:column headerText="Beneficiary">
													<h:outputText value="#{beneficiary.fullName}" />
												</p:column>
												<p:column headerText="Age">
													<h:outputText value="#{beneficiary.age}" />
												</p:column>
												<p:column headerText="Gender">
													<h:outputText value="#{beneficiary.gender}" />
												</p:column>
												<p:column headerText="ID NO.">
													<h:outputText value="#{beneficiary.fullIdNo == null ? '-' :beneficiary.fullIdNo}" />
												</p:column>
												<p:column headerText="Resident TownShip">
													<h:outputText value="#{beneficiary.residentAddress.township.name}" />
												</p:column>
												<p:column headerText="Beneficiary Percentage">
													<h:outputText value="#{beneficiary.percentage}%" />
												</p:column>
												<p:column headerText="Relationship">
													<h:outputText value="#{beneficiary.relationship.name}" />
												</p:column>
												<p:column headerText="#{label['EDIT_BTN']}" style="width:5%;text-align : center;">
													<p:commandButton styleClass="green-button" icon="fa fa-paint-brush" action="#{AddNewLifeProposalActionBean.prepareEditBeneficiariesInfo(beneficiary)}"
														id="editBeneficiaryLink" immediate="true" oncomplete="PF('beneficiariesInfoEntryDialog').show();" update=":beneficiaryInfoEntryForm" />
												</p:column>
												<p:column headerText="#{label['COMMON_DELETE_LABEL']}" style="width:5%;text-align : center;">
													<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.removeBeneficiariesInfo(beneficiary)}" id="removeBeneficiaryLink"
														update=":lifeProposalEntryForm:beneficiariesInfoTablePanel ">
														<p:confirm header="Confirmation" message="#{label['COMMON_MSG_DELETE_CONFIRM_LABEL']}" icon="fa fa-exclamation-triangle" />
													</p:commandButton>
												</p:column>
											</p:dataTable>
										</fieldset>
									</h:panelGroup>
								</td>
							</tr>
						</table>
						<br />
						<br />
						<h:panelGroup id="insuredRecordPanelGroup">
							<p:panel header="#{label['INSURED_RECORD_INFO_LABEL']}" toggleable="true" collapsed="true">
								<p:panelGrid id="insuredRecordPanelGrid" columns="3" layout="grid" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4" styleClass="ui-panelgrid-blank ui-fluid">
									<p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-4,ui-grid-col-8" styleClass="ui-panelgrid-blank ui-fluid">
										<p:outputLabel />
										<p:message for="insurer" display="text" />
										<h:outputLabel value="#{label['INSURANCE_COMPANY']}" styleClass="input-label mandatory" />
										<p:panelGrid styleClass="ui-panelgrid-blank">
											<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="insurerePanel">
												<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
													<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectCoInsuranceCompany()}" id="selectInsurerDialogLink"
														process="@this">
														<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnCoinsurCompany}" update="insurer" />
													</p:commandButton>
													<p:inputText id="insurer" required="true"
														readonly="#{AddNewLifeProposalActionBean.insuredRecord.company == null ? facesContext.currentPhaseId.ordinal eq 6 ? true : !(not empty param[recordReq.clientId]) : true}"
														value="#{AddNewLifeProposalActionBean.insuredRecord.company == null ? '' : AddNewLifeProposalActionBean.insuredRecord.company.name}" />
													<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.insuredRecord.setCompany(null)}" process="@this" update="insurer" />
												</div>
											</div>
										</p:panelGrid>
										<p:outputLabel />
										<p:message for="policyNo" display="text" />
										<h:outputLabel value="#{label['INSURED_RECORD_POLICYNO_LABEL']}" />
										<p:inputText id="policyNo" value="#{AddNewLifeProposalActionBean.insuredRecord.policyNo}" />
										<p:outputLabel />
										<p:message for="policyStatus" display="text" />
										<h:outputLabel value="Policy Status" />
										<p:inputText id="policyStatus" value="#{AddNewLifeProposalActionBean.insuredRecord.policyStatus}" />
									</p:panelGrid>
									<p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-4,ui-grid-col-8" styleClass="ui-panelgrid-blank ui-fluid">
										<p:outputLabel />
										<p:message for="lifeproduct" display="text" />
										<h:outputLabel value="#{label['PRODUCT_LABLE']}" styleClass="input-label mandatory" />
										<p:panelGrid styleClass="ui-panelgrid-blank">
											<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="productPanel">
												<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
													<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectProduct()}" id="selectProductDialogLink"
														process="@this">
														<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnProduct}" update="lifeproduct" />
													</p:commandButton>
													<p:inputText id="lifeproduct" required="true"
														readonly="#{AddNewLifeProposalActionBean.insuredRecord.product == null ? facesContext.currentPhaseId.ordinal eq 6 ? true : !(not empty param[recordReq.clientId]) : true}"
														value="#{AddNewLifeProposalActionBean.insuredRecord.product == null ? '' : AddNewLifeProposalActionBean.insuredRecord.product.name}" />
													<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.insuredRecord.setProduct(null)}" process="@this"
														update="lifeproduct" />
												</div>
											</div>
										</p:panelGrid>
										<p:outputLabel />
										<p:message for="recordStartDate" display="text" />
										<h:outputLabel value="#{label['INSURED_RECORD_STARTDATE_LABEL']}" />
										<p:calendar id="recordStartDate" pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
											value="#{AddNewLifeProposalActionBean.insuredRecord.fromDate}" />
										<p:outputLabel />
										<p:message for="recordEndDate" display="text" />
										<h:outputLabel value="#{label['INSURED_RECORD_ENDDATE_LABEL']}" />
										<p:calendar id="recordEndDate" pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
											value="#{AddNewLifeProposalActionBean.insuredRecord.toDate}" />
									</p:panelGrid>
									<p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-4,ui-grid-col-8" styleClass="ui-panelgrid-blank ui-fluid">
										<p:outputLabel />
										<p:message for="period" display="text" />
										<h:outputLabel value="#{label['COMPLETED_POLICY_TERM']}" />
										<p:inputNumber inputStyle="text-align:right" decimalPlaces="0" id="period" value="#{AddNewLifeProposalActionBean.insuredRecord.period}" />
										<p:outputLabel />
										<p:message for="sumInsured" display="text" />
										<h:outputLabel value="#{label['SUMISURED_LABEL']}" />
										<p:inputNumber inputStyle="text-align:right" id="sumInsured" decimalPlaces="2" value="#{AddNewLifeProposalActionBean.insuredRecord.sumInsured}" />
										<p:outputLabel />
										<p:message for="premium" display="text" />
										<h:outputLabel value="#{label['PREMIUM_LBL']}" />
										<p:inputNumber inputStyle="text-align:right" decimalPlaces="2" id="premium" value="#{AddNewLifeProposalActionBean.insuredRecord.premium}" />
									</p:panelGrid>
								</p:panelGrid>
								<br />
								<h:panelGrid id="insuredRecordBtnGrid" columns="3">
									<p:commandButton styleClass="commonButtom" value="#{AddNewLifeProposalActionBean.newInsuredRecord ? label['COMMON_ADDNEW_BTN'] : label['COMMON_UPDATE_BTN']}"
										action="#{AddNewLifeProposalActionBean.applyInsuredRecord()}" binding="#{recordReq}" style="width:75px;"
										update="@form:insuredRecordPanelGrid @form:insuredRecordBtnGrid @form:insuredRecordTablePanel">
										<f:param name="trailerValidation" value="true" />
									</p:commandButton>
									<p:spacer width="5px;" />
									<p:commandButton styleClass="commonButtom" value="#{label['COMMON_CANCEL_BTN']}" action="#{AddNewLifeProposalActionBean.createNewInsuredRecord}" process="@this"
										update="@form:insuredRecordPanelGrid @form:insuredRecordBtnGrid @form:insuredRecordTablePanel">
									</p:commandButton>
								</h:panelGrid>
								<br />
								<p:outputPanel id="insuredRecordTablePanel">
									<p:dataTable id="insuredRecordTable" widgetVar="insuredRecordTable" rowIndexVar="index" value="#{AddNewLifeProposalActionBean.insuredRecordList}" var="record"
										reflow="true">
										<p:column headerText="#{label['DATA_TABLE_NUMBER_LABEL']}" style="width:4%;">
											<h:outputLabel value="#{index + 1}" style="text-align:center;" />
										</p:column>
										<p:column headerText="#{label['INSURANCE_COMPANY']}">
											<h:outputText value="#{record.company.name}" />
										</p:column>
										<p:column headerText="#{label['PRODUCT_LABLE']}">
											<h:outputText value="#{record.product.name}" />
										</p:column>
										<p:column headerText="#{label['INSURED_RECORD_POLICYNO_LABEL']}">
											<h:outputText value="#{record.policyNo}" />
										</p:column>
										<p:column headerText="#{label['SUMISURED_LABEL']}">
											<h:outputText style="float: right;" value="#{record.sumInsured}">
												<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
											</h:outputText>
										</p:column>
										<p:column headerText="#{label['PREMIUM_LBL']}">
											<h:outputText style="float: right;" value="#{record.premium}">
												<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
											</h:outputText>
										</p:column>
										<p:column headerText="#{label['COMPLETED_POLICY_TERM']}">
											<h:outputText value="#{record.period}" />
										</p:column>
										<p:column headerText="#{label['INSURED_RECORD_STARTDATE_LABEL']}">
											<h:outputText value="#{record.fromDate}">
												<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" />
											</h:outputText>
										</p:column>
										<p:column headerText="#{label['INSURED_RECORD_ENDDATE_LABEL']}">
											<h:outputText value="#{record.toDate}">
												<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" />
											</h:outputText>
										</p:column>
										<p:column headerText="Policy Status">
											<h:outputText value="#{record.policyStatus}" />
										</p:column>
										<p:column headerText="#{label['EDIT_BTN']}" style="width:4%;">
											<p:commandButton styleClass="green-button" icon="fa fa-paint-brush" action="#{AddNewLifeProposalActionBean.prepareUpdateInsuredRecord(record)}"
												process="@this,@form:insuredRecordBtnGrid" update="@form:insuredRecordPanelGrid @form:insuredRecordBtnGrid @form:insuredRecordTablePanel" />
										</p:column>
										<p:column headerText="#{label['COMMON_DELETE_LABEL']}" style="width:4%;">
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.deleteInsuredRecord(record)}"
												process="@this,@form:insuredRecordBtnGrid" update="@form:insuredRecordPanelGrid @form:insuredRecordBtnGrid @form:insuredRecordTablePanel" />
										</p:column>
									</p:dataTable>
								</p:outputPanel>
							</p:panel>
						</h:panelGroup>
						<br />
						<br />
						<p:commandButton action="#{AddNewLifeProposalActionBean.addNewInsuredPersonInfo}" binding="#{isRequired}" id="addInsuredPersonInfoBtn" style="width: 80px;"
							update=":lifeProposalEntryForm:insuredPersonInfoWizardPanel"
							value="#{AddNewLifeProposalActionBean.createNewInsuredPersonInfo ? label['COMMON_ADDNEW_BTN'] : label['COMMON_UPDATE_BTN']}" />
						<br />
						<p:separator style="height:3px" />
						<h:panelGrid columns="4">
							<h:commandLink action="#{AddNewLifeProposalActionBean.prepareAddNewInsuredPersonInfo()}" immediate="true" update=":lifeProposalEntryForm:insuredPersonInfoWizardPanel">
								<f:ajax render=":lifeProposalEntryForm:insuredPersonInfoWizardPanel" />
								<h:panelGrid columns="2">
									<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
									<h:outputText styleClass="command-link" value="#{label['COMMON_ADDNEW_LINK']}" />
								</h:panelGrid>
							</h:commandLink>
							<!-- <p:fileUpload allowTypes="/(\.|\/)(xls|xlsx)$/" mode="simple" rendered="#{AddNewLifeProposalActionBean.contractorType eq 'ORGANIZATION'}" sizeLimit="50000"
								value="#{AddNewLifeProposalActionBean.uploadedFile}" />
							<p:commandButton actionListener="#{AddNewLifeProposalActionBean.upload}" ajax="false" rendered="#{AddNewLifeProposalActionBean.contractorType eq 'ORGANIZATION'}"
								value="Submit" /> -->
							<p:message for="insuredPersonInfoDTOTable" display="text" />
						</h:panelGrid>
						<p:dataTable id="insuredPersonInfoDTOTable" rowIndexVar="index" rowStyleClass="#{empty insuredPersonInfoDTO.beneficiariesInfoDTOList ? 'rowWarnning' : null}" style="width:100%"
							value="#{AddNewLifeProposalActionBean.insuredPersonInfoDTOList}" var="insuredPersonInfoDTO">
							<p:column headerText="#{label['DATA_TABLE_NUMBER_LABEL']}" style="width:4%;">
								<h:outputLabel value="#{index + 1}" style="text-align:center;" />
							</p:column>
							<p:column headerText="Name">
								<h:outputText value="#{insuredPersonInfoDTO.fullName}" />
							</p:column>
							<p:column headerText="Date Of Birth" style="text-align:left;width:8%;">
								<h:outputText value="#{insuredPersonInfoDTO.dateOfBirth}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Father Name">
								<h:outputText value="#{insuredPersonInfoDTO.fatherName}" />
							</p:column>
							<p:column headerText="Address">
								<h:outputText value="#{insuredPersonInfoDTO.fullAddress}" />
							</p:column>
							<p:column headerText="Sum Insured" rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite ? false :true}" style="width:10%;">
								<h:outputText style="float: right;" value="#{insuredPersonInfoDTO.sumInsuredInfo}">
									<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Unit" rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite}">
								<h:outputText style="float: right;" value="#{insuredPersonInfoDTO.unit}">
									<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Product Type" style="text-align: center">
								<h:outputText value="#{insuredPersonInfoDTO.product.name}" />
							</p:column>
							<p:column headerText="Age" style="text-align:left;width:4%;">
								<h:outputText value="#{insuredPersonInfoDTO.ageForNextYear}" />
							</p:column>
							<p:column headerText="Period" style="text-align:left;width:7%;">
								<h:outputText style="float:left;" value="#{AddNewLifeProposalActionBean.lifeProposal.periodMonth} #{AddNewLifeProposalActionBean.isMonthBase ? '- Month' : '- Year(s)'}" />
							</p:column>
							<p:column headerText="End Date" style="text-align:left;width:8%;">
								<h:outputText value="#{AddNewLifeProposalActionBean.lifeProposal.endDate}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Status" rendered="#{AddNewLifeProposalActionBean.isReplaceColumn()}" style="width:50px; text-align:center;">
								<h:commandLink action="#{AddNewLifeProposalActionBean.prepareReplaceInsuredPersonInfo(insuredPersonInfoDTO)}" id="replaceInsuredPersonInfoLink" value="Replace">
									<f:ajax render=":lifeProposalEntryForm:insuredPersonInfoWizardPanel" />
								</h:commandLink>
							</p:column>
							<p:column headerText="#{label['EDIT_BTN']}" style="width:5%;text-align : center;">
								<p:commandButton styleClass="green-button" icon="fa fa-paint-brush" action="#{AddNewLifeProposalActionBean.prepareEditInsuredPersonInfo(insuredPersonInfoDTO)}"
									id="editInsuredPersonInfoLink" update=":lifeProposalEntryForm:insuredPersonInfoWizardPanel" />
							</p:column>
							<p:column headerText="#{label['COMMON_DELETE_LABEL']}" style="width:5%;text-align : center;">
								<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.removeInsuredPersonInfo(insuredPersonInfoDTO)}"
									id="removeEditInsuredPersonInfoLink" update=":lifeProposalEntryForm:insuredPersonInfoWizardPanel">
									<p:confirm header="Confirmation" message="#{label['COMMON_MSG_DELETE_CONFIRM_LABEL']}" icon="pi pi-exclamation-triangle" />
								</p:commandButton>
							</p:column>
						</p:dataTable>
					</p:panel>
				</p:tab>
				<p:tab id="showPremium" title="Premium Calculation">
					<p:panel header="Premium Calculation">
						<p:dataTable id="showPremiumTbl" rowIndexVar="index" value="#{AddNewLifeProposalActionBean.lifeProposal.proposalInsuredPersonList}" var="insuredPerson">
							<p:columnGroup type="header">
								<p:row>
									<p:column headerText="#{label['DATA_TABLE_NUMBER_LABEL']}" style="width:5%" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_INSUREPERSON_NAME_LABEL']}" style="width:20%" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_INSUREDPERSON_DOB_LABEL']}" style="width:13%" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_PAYMENTTYPE_LABEL']}" style="width:13%" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_SUM_INSURED_LABEL']}" style="width:18%"
										rendered="#{!AddNewLifeProposalActionBean.isSportMan and !AddNewLifeProposalActionBean.isSnakeBite}" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_UNIT_LABEL']}" style="width:20%"
										rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite}" />
									<p:column headerText="Keyfactor" style="width:20%" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_PREMIUM_RATE_LABEL']}" style="width:13%" />
									<p:column headerText="#{label['ADDNEWLIFEPROPOSAL_ONEYR_PREMIUM_LABEL']}" style="width:16%" />
								</p:row>
							</p:columnGroup>
							<p:column style="text-align:center">
									<h:outputLabel value="#{index + 1}" style="text-align:center;" />
							</p:column>
							<p:column style="text-align:left">
								<h:outputText value="#{insuredPerson.fullName}" />
							</p:column>
							<p:column style="text-align:left">
								<h:outputText value="#{insuredPerson.dateOfBirth}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
							<p:column style="text-align:right">
								<h:outputText value="#{insuredPerson.paymentType}" />
							</p:column>
							<p:column style="text-align:right" rendered="#{!AddNewLifeProposalActionBean.isSportMan and !AddNewLifeProposalActionBean.isSnakeBite}">
								<h:outputText value="#{insuredPerson.calculateSumInsured}">
									<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
								</h:outputText>
							</p:column>
							<p:column style="text-align:right" rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite }" >
								<h:outputText value="#{insuredPerson.unit}"/>
							</p:column>
							<p:column>
								<h:outputText value="#{insuredPerson.keyFactorValueListForDetails}" />
							</p:column>
							<p:column style="text-align:right">
								<h:outputText value="#{insuredPerson.premiumRate}" />
								<h:outputText value="#{AddNewLifeProposalActionBean.isGroupLife or AddNewLifeProposalActionBean.isFarmer? '%' : ''}" />
							</p:column>
							<p:column style="text-align:right">
								<h:outputText value="#{insuredPerson.proposedPremium}">
									<f:convertNumber type="number" pattern="#,##0.00" />
								</h:outputText>
							</p:column>
							<p:columnGroup type="footer">
								<p:row id="footerRow">
									<p:column colspan="4" footerText="#{label['COMMON_TOTAL']}" style="text-align:right" />
									<p:column footerText="#{ApplicationSetting.getCurrencyFormatString(AddNewLifeProposalActionBean.lifeProposal.sumInsured)}" style="text-align:right"
										rendered="#{!AddNewLifeProposalActionBean.isSportMan and !AddNewLifeProposalActionBean.isSnakeBite}" />
									<p:column footerText="#{ApplicationSetting.getCurrencyFormatString(AddNewLifeProposalActionBean.lifeProposal.units)}" style="text-align:right"
										rendered="#{AddNewLifeProposalActionBean.isSportMan or AddNewLifeProposalActionBean.isSnakeBite }" />
									<p:column colspan="2" style="text-align:right" />
									<p:column footerText="#{ApplicationSetting.getCurrencyFormatString(AddNewLifeProposalActionBean.lifeProposal.proposedPremium)}" style="text-align:right" />
								</p:row>
							</p:columnGroup>
						</p:dataTable>
						<p:panelGrid rendered="#{AddNewLifeProposalActionBean.isEnquiryEdit}">
							<br/><p:commandButton action="#{AddNewLifeProposalActionBean.addNewLifeProposal}" disabled="#{AddNewLifeProposalActionBean.printEndorseLetter}" id="editProposal"
								update=":lifeProposalEntryForm" value="Edit Proposal" rendered="#{!AddNewLifeProposalActionBean.isConfirmEdit}" style="margin-left:20px;" />
						</p:panelGrid>
					</p:panel>
				</p:tab>
				<p:tab id="workflow" title="Workflow" rendered="#{!AddNewLifeProposalActionBean.isEnquiryEdit}">
					<p:panel header="Workflow" id="workflowWizardPanel">
						<p:panelGrid columns="2" columnClasses="ui-grid-col-6,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid id="workFlowPanel" columns="2" columnClasses="ui-grid-col-4,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:outputPanel />
								<p:message for="remark" display="text" />
								<h:outputText styleClass="input-label" value="Remark" />
								<p:inputTextarea autoResize="true" id="remark" rows="10" value="#{AddNewLifeProposalActionBean.remark}">
									<p:ajax update=":lifeProposalEntryForm:remark" />
									<f:validateLength maximum="8000" />
								</p:inputTextarea>
								<p:outputPanel />
								<p:message for="needSurvey" display="text" />
								<h:outputText rendered="#{(!AddNewLifeProposalActionBean.isSportMan and !AddNewLifeProposalActionBean.isSnakeBite and !AddNewLifeProposalActionBean.isPersonalAccident) and AddNewLifeProposalActionBean.isConfirmEdit or AddNewLifeProposalActionBean.isEndorse}" styleClass="input-label"
									value="Is it need to survey again?" />
								<p:selectOneRadio id="needSurvey" rendered="#{(!AddNewLifeProposalActionBean.isSportMan and !AddNewLifeProposalActionBean.isSnakeBite and !AddNewLifeProposalActionBean.isPersonalAccident) and AddNewLifeProposalActionBean.isConfirmEdit or AddNewLifeProposalActionBean.isEndorse}" style="width:130px;"
									value="#{AddNewLifeProposalActionBean.surveyAgain}">
									<p:ajax update="responsiblePerson" process="@this" listener="#{AddNewLifeProposalActionBean.setResponsiblePerson(null)}" />
									<f:selectItem itemLabel="#{label['BOOLEAN_YES_LABEL']}" itemValue="true" />
									<f:selectItem itemLabel="#{label['BOOLEAN_NO_LABEL']}" itemValue="false" />
								</p:selectOneRadio>
								<p:outputPanel />
								<p:message for="responsiblePerson" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Responsible Person" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="responsiblePersonPanel">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="typesOfSportPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectUser()}" id="selectUserDialogLink" process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnUser}" update="responsiblePerson" />
											</p:commandButton>
											<p:inputText id="responsiblePerson" readonly="#{AddNewLifeProposalActionBean.responsiblePerson == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
												required="true" style="width:300px;margin-left:-4px;"
												value="#{AddNewLifeProposalActionBean.responsiblePerson == null ? '' : AddNewLifeProposalActionBean.responsiblePerson.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.setResponsiblePerson(null)}" process="@this"
												update="responsiblePerson" />
										</div>
									</div>
								</p:panelGrid>
							</p:panelGrid>
						</p:panelGrid>
						<br />
						<p:panelGrid>
							<p:commandButton action="#{AddNewLifeProposalActionBean.addNewLifeProposal}" disabled="#{AddNewLifeProposalActionBean.printEndorseLetter}" id="submitProposal"
								update=":lifeProposalEntryForm" value="Submit Proposal" rendered="#{!AddNewLifeProposalActionBean.isConfirmEdit}" style="margin-left:20px;" />
							<p:commandButton action="#{AddNewLifeProposalActionBean.addNewLifeProposal}" id="updateProposal" update=":lifeProposalEntryForm" value="Update Proposal"
								rendered="#{AddNewLifeProposalActionBean.isConfirmEdit}" style="margin-left:20px;" />
							<p:commandButton id="endorseLetterPrint" immediate="true" disabled="#{!AddNewLifeProposalActionBean.printEndorseLetter}"
								rendered="#{AddNewLifeProposalActionBean.lifeProposal.nonFinancialEndorse}" value="Print Endorse Letter" style="margin-left:20px;" />
						</p:panelGrid>
					</p:panel>
				</p:tab>
			</p:wizard>
			<br />
			<p:commandButton action="dashboard" immediate="true" value="#{label['COMMON_CANCEL_BTN']}" />
			<br />
			<h:outputText style="color:red;" value="#{label['COMMON_MSG_MANDATORY_LABEL']}" />
			<br />
		</h:form>
		<!-- AddOn Dialog -->
		<h:form id="addOnEntryForm">
			<p:dialog header="AddOn Entry" hideEffect="explode" id="addOnEntryDialog" resizable="false" showEffect="explode" widgetVar="addOnEntryDialog">
				<table cellspacing="5">
					<tr>
						<td>
							<h:outputText value="" />
						</td>
						<td>
							<p:message for="addOn" id="addOnMsg" display="text" />
						</td>
					</tr>
					<tr>
						<td>
							<h:outputText style="color:red;" value="*" />
							<h:outputText styleClass="input-label" value="AddOn" />
						</td>
						<td>
							<h:panelGrid columns="3" id="addOnPanel">
								<p:inputText id="addOn" readonly="true" style="width:300px;margin-left:-4px;"
									value="#{AddNewLifeProposalActionBean.insuredPersonAddOnDTO.addOn == null ? '' : AddNewLifeProposalActionBean.insuredPersonAddOnDTO.addOn.name}" />
							</h:panelGrid>
						</td>
					</tr>
					<tr>
						<td>
							<h:outputText value="" />
						</td>
						<td style="width: 150px;">
							<p:message for="addOnSumInsured" display="text" />
						</td>
					</tr>
					<tr>
						<td style="width: 150px;">
							<h:outputText rendered="#{AddNewLifeProposalActionBean.insuredPersonAddOnDTO.addOn.premiumRateType == 'BASED_ON_OWN_SUMINSURED' ? true : false}" style="color:red;" value="*" />
							<h:outputText rendered="#{AddNewLifeProposalActionBean.insuredPersonAddOnDTO.addOn.premiumRateType == 'BASED_ON_OWN_SUMINSURED' ? true : false}" styleClass="input-label"
								value="AddOn Sum Insured" />
						</td>
						<td>
							<p:inputText id="addOnSumInsured" rendered="#{AddNewLifeProposalActionBean.insuredPersonAddOnDTO.addOn.premiumRateType == 'BASED_ON_OWN_SUMINSURED' ? true : false}"
								style="width:300px;" value="#{AddNewLifeProposalActionBean.insuredPersonAddOnDTO.addOnSumInsured}">
								<f:validateLength maximum="50" />
							</p:inputText>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<p:commandButton action="#{AddNewLifeProposalActionBean.saveInsuredPersonAddOnDTO()}" update=":lifeProposalEntryForm:addOnTablePanel addOnMsg" value="Add" />
						</td>
					</tr>
				</table>
			</p:dialog>
		</h:form>
		<!-- Benefi Dialog -->
		<p:dialog appendTo="@(body)" dynamic="true" closable="false" header="#{label['MANAGE_INSUREDPERSON_BENEFICIARIESINFO_LABLE']}" hideEffect="explode"
			id="beneficiariesInfoEntryDialog" modal="true" resizable="false" showEffect="explode" visible="#{facesContext.validationFailed}" widgetVar="beneficiariesInfoEntryDialog"
			width="950" height="450">
			<h:form id="beneficiaryInfoEntryForm">
				<p:panelGrid columns="2" columnClasses="ui-grid-col-6,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
					<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
						<p:panelGrid id="beneficiaryInfoLeftPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:outputLabel />
							<p:message for="initialId" display="text" />
							<h:outputText styleClass="input-label mandatory" value="Initial ID" />
							<p:inputText id="initialId" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.initialId}">
								<f:validateLength maximum="50" />
							</p:inputText>
							
							<p:outputLabel />
							<p:message for="firstName" display="text" />
							<h:outputText styleClass="input-label mandatory" value="Name" />
							<p:panelGrid columns="3" columnClasses="nrc ui-grid-col-4,nrc ui-grid-col-4,nrc ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:inputText id="firstName" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.name.firstName}">
									<f:validateLength maximum="50" />
								</p:inputText>
								<p:inputText id="middleName" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.name.middleName}">
									<f:validateLength maximum="50" />
								</p:inputText>
								<p:inputText id="lastName" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.name.lastName}">
									<f:validateLength maximum="50" />
								</p:inputText>
							</p:panelGrid>
							
							<p:outputLabel />
							<p:message for="gender" display="text" />
							<h:outputText styleClass="input-label mandatory" value="Gender" />
							<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="gender" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.gender}">
								<f:selectItem itemLabel="-- Select Gender --" noSelectionOption="true" />
								<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewLifeProposalActionBean.gender}" var="type" />
							</p:selectOneMenu>
							
							<p:outputLabel />
							<p:message for="phone" display="text" />
							<!-- <c:choose>
							    <c:when text="#{!AddNewLifeProposalActionBean.isSnakeBite}">
							        <h:outputText styleClass="input-label" value="Phone" />
							    </c:when>    
							    <c:otherwise>
							        <h:outputText styleClass="input-label mandatory" value="Phone" />
							    </c:otherwise>
							</c:choose> -->
							<h:outputText styleClass="input-label" rendered="#{AddNewLifeProposalActionBean.isSnakeBite}" value="Phone"/>
							<h:outputText styleClass="input-label mandatory" value="Phone" rendered="#{!AddNewLifeProposalActionBean.isSnakeBite}"/>
							<p:inputText id="phone" required="#{AddNewLifeProposalActionBean.isSnakeBite} ? false : true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.phone}"/>
							
							<p:outputLabel />
							<p:message for="beneficiaryIdType" display="text" />
							<h:outputText styleClass="input-label mandatory" value="IdType" />
							<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="beneficiaryIdType" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType}">
								<f:selectItems itemLabel="#{idType.label}" itemValue="#{idType}" var="idType" value="#{AddNewLifeProposalActionBean.idTypes}" />
								<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.clearNRC()}" update="beneficiaryInfoPanel beneficiaryIdType" />
							</p:selectOneMenu>
						</p:panelGrid>
						<p:panelGrid id="beneficiaryInfoPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:outputLabel />
							<h:panelGroup>
								<p:message for="beneficiaryNrcNo" display="text" />
								<p:message for="beneficiaryFPNo" display="text" />
							</h:panelGroup>
							<h:outputText styleClass="input-label mandatory" rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType ne 'STILL_APPLYING'}"
								value="#{label['ADDNEWMOTORPROPOSAL_DRIVER_IDNO_LABEL']}" />
							<p:panelGrid id="beneficiaryIdNoGroup" columns="4" columnClasses="ui-grid-col-3,ui-grid-col-5,ui-grid-col-3,ui-grid-col-3" layout="grid"
								styleClass="ui-panelgrid-blank ui-fluid"
								rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'NRCNO' or AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq null}">
								<p:selectOneMenu id="benefProvinceCode" rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'NRCNO'}" required="true" style="margin-left:-10px;"
									value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.provinceCode}">
									<f:selectItem itemLabel="" />
									<f:selectItems itemLabel="#{provCode}" itemValue="#{provCode}" value="#{AddNewLifeProposalActionBean.provinceCodeList}" var="provCode" />
									<p:ajax event="valueChange" listener="#{AddNewLifeProposalActionBean.changeBenefiProvinceCode}" update="beneficiaryTownshipCode" />
								</p:selectOneMenu>
								<p:selectOneMenu id="beneficiaryTownshipCode" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.townshipCode}"
									rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'NRCNO'}" style="margin-left:-27px;max-width:110px;" filter="true" filterMatchMode="startsWith">
									<f:selectItem itemLabel="" />
									<f:selectItems itemLabel="#{townshipCode}" itemValue="#{townshipCode}" value="#{AddNewLifeProposalActionBean.townshipCodeList}" var="townshipCode" />
								</p:selectOneMenu>
								<p:selectOneMenu style="margin-left:-45px;" id="beneficiaryIdConditionType" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idConditionType}"
									rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'NRCNO'}">
									<f:selectItem itemLabel="" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewLifeProposalActionBean.idConditionTypeSelectItemList}" var="type" />
								</p:selectOneMenu>
								<p:inputText id="beneficiaryNrcNo" style="margin-left:-60px;min-width:80px;" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idNo}" required="true"
									 onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="6" 
									 rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'NRCNO'}" >
                                            <f:validateLength minimum="6" maximum="6" />
                                </p:inputText>
							</p:panelGrid>
							<p:panelGrid id="beneficiaryIdNoGroup1" columns="1" columnClasses="ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
								rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'FRCNO' or AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'PASSPORTNO'}">
								<p:inputText id="beneficiaryFPNo" style="margin-left:-10px;min-width:230px;" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idNo}"
									rendered="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'FRCNO' or AddNewLifeProposalActionBean.beneficiariesInfoDTO.idType eq 'PASSPORTNO'}" />
							</p:panelGrid>
						</p:panelGrid>
					</p:panelGrid>
					<p:panelGrid id="beneficiaryInfoRightPanel" columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
						<p:outputLabel />
						<p:message for="beneficiaryRelationShip" display="text" />
						<!-- <c:choose>
						    <c:when test="#{AddNewLifeProposalActionBean.isSnakeBite} ? false : true">
						        <h:outputText styleClass="input-label" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
						    </c:when>    
						    <c:otherwise>
						        <h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
						    </c:otherwise>
						</c:choose> -->
						<h:outputText styleClass="input-label"  rendered="#{AddNewLifeProposalActionBean.isSnakeBite}" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
						<h:outputText styleClass="input-label mandatory" rendered="#{!AddNewLifeProposalActionBean.isSnakeBite}" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
						<p:selectOneMenu converter="omnifaces.SelectItemsIndexConverter" id="beneficiaryRelationShip" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.relationship}" required="#{AddNewLifeProposalActionBean.isSnakeBite} ? false : true">
							<f:selectItem itemLabel="Select" noSelectionOption="true" />
							<f:selectItems itemLabel="#{relationship.name}" itemValue="#{relationship}" value="#{AddNewLifeProposalActionBean.relationshipList}" var="relationship" />
						</p:selectOneMenu>
						<p:outputLabel />
						<p:message for="percentage" display="text" />
						<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_PERCENTAGE_LABEL']}" />
						<p:inputText id="percentage" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.percentage}">
							<f:validateDoubleRange maximum="100" minimum="1" />
						</p:inputText>
						<p:outputLabel />
						<p:message for="benificiaryAge" display="text" />
						<h:outputText styleClass="input-label" value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_AGE_LABEL']}" />
						<p:inputText id="benificiaryAge" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.age}">
						</p:inputText>
						<p:outputLabel />
						<p:message for="townShip2" display="text" />
						<h:outputText styleClass="input-label mandatory" value="Resident TownShip" />
						<p:panelGrid styleClass="ui-panelgrid-blank">
							<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="townShipPanelGroup2">
								<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
									<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewLifeProposalActionBean.selectTownship()}" id="selectTownShipDialogLink2"
										process="@this">
										<p:ajax event="dialogReturn" listener="#{AddNewLifeProposalActionBean.returnBeneficiariesTownShip}" update="townShip2" />
									</p:commandButton>
									<p:inputText id="townShip2"
										readonly="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.residentAddress.township.name == null ? facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
										value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.residentAddress.township == null ? '' : AddNewLifeProposalActionBean.beneficiariesInfoDTO.residentAddress.township.name}"
										style="width:300px;" />
									<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.residentAddress.township.setName(null)}"
										process="@this" update="townShip2" />
								</div>
							</div>
						</p:panelGrid>
						
						<p:outputLabel />
						<p:message for="address" display="text" />
						<h:outputText styleClass="input-label mandatory" value="Resident Address" />
						<p:inputTextarea id="address" required="true" value="#{AddNewLifeProposalActionBean.beneficiariesInfoDTO.residentAddress.residentAddress}">
							<f:validateLength maximum="300" />
						</p:inputTextarea>
					</p:panelGrid>
				</p:panelGrid>
				<p:separator />
				<br />
				<p:commandButton action="#{AddNewLifeProposalActionBean.saveBeneficiariesInfo()}" id="saveBtn" style="width: 80px;margin-left:20px;"
					update=":lifeProposalEntryForm:beneficiaryPersonTable :beneficiaryInfoEntryForm" value="Save" />
				<p:spacer width="10" />
				<p:commandButton immediate="true" oncomplete="PF('beneficiariesInfoEntryDialog').hide();" style="width: 80px;" value="Cancel" />
				<br />
			</h:form>
		</p:dialog>
		<!--  -->
		<h:form id="paidPremiumForPaidup">
			<p:dialog header="Paid Premium for Paidup" height="100" hideEffect="explode" id="paidPremiumConfirmationDialog" resizable="false" showEffect="explode"
				widgetVar="paidPremiumConfirmationDialog" width="350">
				<h:panelGroup id="confirmationPanel">
					<table>
						<tr>
							<td align="left">
								<h:graphicImage style="width:22px;height:22px;" url="/images/warning.png" />
							</td>
							<td valign="middle">
								<h:outputText style="padding-top:-10px;text-decoration: none;font-size: 12px;" value="Pay premium for the rest period to fill a full year?" />
								<br />
								<h:outputText value="" />
							</td>
						</tr>
					</table>
					<br />
					<p:commandButton action="#{AddNewLifeProposalActionBean.paidPremiumForPaidUp(true)}" oncomplete="PF('paidPremiumConfirmationDialog').hide();"
						update=":lifeProposalEntryForm:insuredPersonInfoWizardPanel" value="Paid" />
					<p:commandButton action="#{AddNewLifeProposalActionBean.paidPremiumForPaidUp(false)}" oncomplete="PF('paidPremiumConfirmationDialog').hide();"
						update=":lifeProposalEntryForm:insuredPersonInfoWizardPanel" value="Not Paid" />
				</h:panelGroup>
			</p:dialog>
		</h:form>
		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
			<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
		</p:confirmDialog>
	</ui:define>
</ui:composition>